{"id":"6SRq","dependencies":[{"name":"/home/ubuntu/workspace/node_modules/@barba/prefetch/dist/barba-prefetch.umd.js.map","includedInParent":true,"mtime":499162500000},{"name":"/home/ubuntu/workspace/package.json","includedInParent":true,"mtime":1559339319069},{"name":"/home/ubuntu/workspace/.browserslistrc","includedInParent":true,"mtime":1559078682406},{"name":"/home/ubuntu/workspace/node_modules/@barba/prefetch/package.json","includedInParent":true,"mtime":1559084590503}],"generated":{"js":"var define;\nvar e;!function(t,r){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=r():\"function\"==typeof e&&e.amd?e(r):t.barbaPrefetch=r()}(this,function(){var e=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},t=function(){this.name=\"@barba/prefetch\",this.version=\"2.1.3\",this.toPrefetch=new Set};return t.prototype.install=function(e,t){void 0===t&&(t={});var r=t.root;void 0===r&&(r=document.body);var o=t.timeout;void 0===o&&(o=2e3),this.logger=new e.Logger(this.name),this.logger.print(this.version),this.barba=e,this.root=r,this.timeout=o},t.prototype.init=function(){var e=this;this.barba.prefetchIgnore?this.logger.warn(\"barba.prefetchIgnore is enabled\"):this.barba.cacheIgnore?this.logger.warn(\"barba.cacheIgnore is enabled\"):(this.observer=new IntersectionObserver(function(t){t.forEach(function(t){if(t.isIntersecting){var r=t.target,o=e.barba.dom.getHref(r);e.toPrefetch.has(o)&&(e.observer.unobserve(r),e.barba.cache.has(o)?e.barba.cache.update(o,{action:\"prefetch\"}):e.barba.cache.set(o,e.barba.request(o,e.barba.timeout,e.barba.onRequestError.bind(e.barba,\"barba\")).catch(function(t){e.logger.error(t)}),\"prefetch\"))}})}),this.observe(),this.barba.hooks.after(this.observe,this))},t.prototype.observe=function(){var t=this;e(function(){t.root.querySelectorAll(\"a\").forEach(function(e){var r=e,o=t.barba.dom.getHref(r);t.barba.cache.has(o)||t.barba.prevent.checkUrl(o)||t.barba.prevent.checkLink(r,{},r.href)||(t.observer.observe(e),t.toPrefetch.add(o))})},{timeout:this.timeout})},new t});"},"sourceMaps":{"js":{"mappings":[{"source":"../src/prefetch.ts","name":"Prefetch","original":{"line":130,"column":21},"generated":{"line":2,"column":0}},{"source":"../src/prefetch.ts","name":"Prefetch","original":{"line":130,"column":21},"generated":{"line":2,"column":4}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":7}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":16}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":18}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":21}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":38}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":47}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":67}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":74}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":81}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":89}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":93}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":112}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":115}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":117}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":121}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":123}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":126}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":128}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":142}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":146}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":147}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":152}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":163}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":22,"column":13},"generated":{"line":2,"column":167}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"window","original":{"line":24,"column":2},"generated":{"line":2,"column":169}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"requestIdleCallback","original":{"line":24,"column":9},"generated":{"line":2,"column":176}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":2,"column":197}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"cb","original":{"line":25,"column":15},"generated":{"line":2,"column":206}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"start","original":{"line":26,"column":10},"generated":{"line":2,"column":209}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"start","original":{"line":26,"column":10},"generated":{"line":2,"column":213}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"Date","original":{"line":26,"column":18},"generated":{"line":2,"column":215}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"now","original":{"line":26,"column":23},"generated":{"line":2,"column":220}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"setTimeout","original":{"line":28,"column":11},"generated":{"line":2,"column":226}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"setTimeout","original":{"line":28,"column":11},"generated":{"line":2,"column":233}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"cb","original":{"line":29,"column":6},"generated":{"line":2,"column":244}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"cb","original":{"line":29,"column":6},"generated":{"line":2,"column":255}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":29,"column":9},"generated":{"line":2,"column":257}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"didTimeout","original":{"line":30,"column":8},"generated":{"line":2,"column":258}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":30,"column":20},"generated":{"line":2,"column":270}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"timeRemaining","original":{"line":31,"column":8},"generated":{"line":2,"column":272}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":31,"column":23},"generated":{"line":2,"column":286}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"Math","original":{"line":32,"column":17},"generated":{"line":2,"column":297}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"Math","original":{"line":32,"column":17},"generated":{"line":2,"column":304}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"max","original":{"line":32,"column":22},"generated":{"line":2,"column":309}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":32,"column":26},"generated":{"line":2,"column":313}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":32,"column":29},"generated":{"line":2,"column":315}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"Date","original":{"line":32,"column":35},"generated":{"line":2,"column":319}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"now","original":{"line":32,"column":40},"generated":{"line":2,"column":324}},{"source":"../src/polyfills/requestIdleCallback.ts","name":"start","original":{"line":32,"column":48},"generated":{"line":2,"column":330}},{"source":"../src/polyfills/requestIdleCallback.ts","name":null,"original":{"line":35,"column":7},"generated":{"line":2,"column":338}},{"source":"../src/prefetch.ts","name":"Prefetch","original":{"line":22,"column":6},"generated":{"line":2,"column":342}},{"source":"../src/prefetch.ts","name":"constructor","original":{"line":22,"column":0},"generated":{"line":2,"column":344}},{"source":"../src/prefetch.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":2,"column":355}},{"source":"../src/prefetch.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":2,"column":360}},{"source":"../src/prefetch.ts","name":null,"original":{"line":23,"column":16},"generated":{"line":2,"column":365}},{"source":"../src/prefetch.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":2,"column":383}},{"source":"../src/prefetch.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":2,"column":388}},{"source":"../src/prefetch.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":2,"column":396}},{"source":"../src/prefetch.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":2,"column":404}},{"source":"../src/prefetch.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":2,"column":409}},{"source":"../src/prefetch.ts","name":null,"original":{"line":31,"column":35},"generated":{"line":2,"column":420}},{"source":"../src/prefetch.ts","name":"Set","original":{"line":31,"column":39},"generated":{"line":2,"column":424}},{"source":"../src/prefetch.ts","name":"install","original":{"line":36,"column":9},"generated":{"line":2,"column":429}},{"source":"../src/prefetch.ts","name":"install","original":{"line":36,"column":9},"generated":{"line":2,"column":436}},{"source":"../src/prefetch.ts","name":"install","original":{"line":36,"column":9},"generated":{"line":2,"column":438}},{"source":"../src/prefetch.ts","name":"install","original":{"line":36,"column":9},"generated":{"line":2,"column":448}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":37,"column":4},"generated":{"line":2,"column":456}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":37,"column":4},"generated":{"line":2,"column":465}},{"source":"../src/prefetch.ts","name":"ref","original":{"line":38,"column":4},"generated":{"line":2,"column":467}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":64},"generated":{"line":2,"column":475}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":64},"generated":{"line":2,"column":479}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":64},"generated":{"line":2,"column":483}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":64},"generated":{"line":2,"column":485}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":489}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":493}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":495}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":497}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":507}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":511}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":515}},{"source":"../src/prefetch.ts","name":"document","original":{"line":38,"column":13},"generated":{"line":2,"column":517}},{"source":"../src/prefetch.ts","name":"body","original":{"line":38,"column":22},"generated":{"line":2,"column":526}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":532}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":536}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":538}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":540}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":553}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":557}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":561}},{"source":"../src/prefetch.ts","name":null,"original":{"line":38,"column":38},"generated":{"line":2,"column":563}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":40,"column":9},"generated":{"line":2,"column":568}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":40,"column":9},"generated":{"line":2,"column":573}},{"source":"../src/prefetch.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":2,"column":580}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":40,"column":22},"generated":{"line":2,"column":584}},{"source":"../src/prefetch.ts","name":"Logger","original":{"line":40,"column":28},"generated":{"line":2,"column":586}},{"source":"../src/prefetch.ts","name":"this","original":{"line":40,"column":35},"generated":{"line":2,"column":593}},{"source":"../src/prefetch.ts","name":"name","original":{"line":40,"column":40},"generated":{"line":2,"column":598}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":41,"column":9},"generated":{"line":2,"column":604}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":41,"column":9},"generated":{"line":2,"column":609}},{"source":"../src/prefetch.ts","name":"print","original":{"line":41,"column":16},"generated":{"line":2,"column":616}},{"source":"../src/prefetch.ts","name":"this","original":{"line":41,"column":22},"generated":{"line":2,"column":622}},{"source":"../src/prefetch.ts","name":"version","original":{"line":41,"column":27},"generated":{"line":2,"column":627}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":42,"column":9},"generated":{"line":2,"column":636}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":42,"column":9},"generated":{"line":2,"column":641}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":42,"column":17},"generated":{"line":2,"column":647}},{"source":"../src/prefetch.ts","name":"root","original":{"line":43,"column":9},"generated":{"line":2,"column":649}},{"source":"../src/prefetch.ts","name":"root","original":{"line":43,"column":9},"generated":{"line":2,"column":654}},{"source":"../src/prefetch.ts","name":"root","original":{"line":43,"column":16},"generated":{"line":2,"column":659}},{"source":"../src/prefetch.ts","name":"timeout","original":{"line":44,"column":9},"generated":{"line":2,"column":661}},{"source":"../src/prefetch.ts","name":"timeout","original":{"line":44,"column":9},"generated":{"line":2,"column":666}},{"source":"../src/prefetch.ts","name":"timeout","original":{"line":44,"column":19},"generated":{"line":2,"column":674}},{"source":"../src/prefetch.ts","name":"init","original":{"line":50,"column":9},"generated":{"line":2,"column":677}},{"source":"../src/prefetch.ts","name":"init","original":{"line":50,"column":9},"generated":{"line":2,"column":679}},{"source":"../src/prefetch.ts","name":"init","original":{"line":50,"column":9},"generated":{"line":2,"column":689}},{"source":"../src/prefetch.ts","name":"this","original":{"line":51,"column":8},"generated":{"line":2,"column":694}},{"source":"../src/prefetch.ts","name":"this","original":{"line":51,"column":8},"generated":{"line":2,"column":705}},{"source":"../src/prefetch.ts","name":"this","original":{"line":51,"column":8},"generated":{"line":2,"column":709}},{"source":"../src/prefetch.ts","name":"this","original":{"line":51,"column":8},"generated":{"line":2,"column":711}},{"source":"../src/prefetch.ts","name":"this","original":{"line":51,"column":8},"generated":{"line":2,"column":716}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":51,"column":13},"generated":{"line":2,"column":721}},{"source":"../src/prefetch.ts","name":"prefetchIgnore","original":{"line":51,"column":19},"generated":{"line":2,"column":727}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":52,"column":11},"generated":{"line":2,"column":742}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":52,"column":11},"generated":{"line":2,"column":747}},{"source":"../src/prefetch.ts","name":"warn","original":{"line":52,"column":18},"generated":{"line":2,"column":754}},{"source":"../src/prefetch.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":2,"column":759}},{"source":"../src/prefetch.ts","name":"this","original":{"line":56,"column":8},"generated":{"line":2,"column":794}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":56,"column":13},"generated":{"line":2,"column":799}},{"source":"../src/prefetch.ts","name":"cacheIgnore","original":{"line":56,"column":19},"generated":{"line":2,"column":805}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":57,"column":11},"generated":{"line":2,"column":817}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":57,"column":11},"generated":{"line":2,"column":822}},{"source":"../src/prefetch.ts","name":"warn","original":{"line":57,"column":18},"generated":{"line":2,"column":829}},{"source":"../src/prefetch.ts","name":null,"original":{"line":57,"column":23},"generated":{"line":2,"column":834}},{"source":"../src/prefetch.ts","name":"observer","original":{"line":69,"column":9},"generated":{"line":2,"column":867}},{"source":"../src/prefetch.ts","name":"observer","original":{"line":69,"column":9},"generated":{"line":2,"column":872}},{"source":"../src/prefetch.ts","name":null,"original":{"line":69,"column":20},"generated":{"line":2,"column":881}},{"source":"../src/prefetch.ts","name":"IntersectionObserver","original":{"line":69,"column":24},"generated":{"line":2,"column":885}},{"source":"../src/prefetch.ts","name":"entries","original":{"line":69,"column":45},"generated":{"line":2,"column":906}},{"source":"../src/prefetch.ts","name":"entries","original":{"line":69,"column":45},"generated":{"line":2,"column":915}},{"source":"../src/prefetch.ts","name":"entries","original":{"line":70,"column":6},"generated":{"line":2,"column":918}},{"source":"../src/prefetch.ts","name":"forEach","original":{"line":70,"column":14},"generated":{"line":2,"column":920}},{"source":"../src/prefetch.ts","name":"entry","original":{"line":70,"column":22},"generated":{"line":2,"column":928}},{"source":"../src/prefetch.ts","name":"entry","original":{"line":70,"column":22},"generated":{"line":2,"column":937}},{"source":"../src/prefetch.ts","name":"entry","original":{"line":71,"column":12},"generated":{"line":2,"column":940}},{"source":"../src/prefetch.ts","name":"entry","original":{"line":71,"column":12},"generated":{"line":2,"column":943}},{"source":"../src/prefetch.ts","name":"isIntersecting","original":{"line":71,"column":18},"generated":{"line":2,"column":945}},{"source":"../src/prefetch.ts","name":null,"original":{"line":71,"column":34},"generated":{"line":2,"column":960}},{"source":"../src/prefetch.ts","name":"link","original":{"line":72,"column":16},"generated":{"line":2,"column":961}},{"source":"../src/prefetch.ts","name":"link","original":{"line":72,"column":16},"generated":{"line":2,"column":965}},{"source":"../src/prefetch.ts","name":"entry","original":{"line":72,"column":23},"generated":{"line":2,"column":967}},{"source":"../src/prefetch.ts","name":"target","original":{"line":72,"column":29},"generated":{"line":2,"column":969}},{"source":"../src/prefetch.ts","name":"href","original":{"line":73,"column":16},"generated":{"line":2,"column":976}},{"source":"../src/prefetch.ts","name":"this","original":{"line":73,"column":23},"generated":{"line":2,"column":978}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":73,"column":28},"generated":{"line":2,"column":980}},{"source":"../src/prefetch.ts","name":"dom","original":{"line":73,"column":34},"generated":{"line":2,"column":986}},{"source":"../src/prefetch.ts","name":"getHref","original":{"line":73,"column":38},"generated":{"line":2,"column":990}},{"source":"../src/prefetch.ts","name":"link","original":{"line":73,"column":46},"generated":{"line":2,"column":998}},{"source":"../src/prefetch.ts","name":"this","original":{"line":75,"column":14},"generated":{"line":2,"column":1001}},{"source":"../src/prefetch.ts","name":"toPrefetch","original":{"line":75,"column":19},"generated":{"line":2,"column":1003}},{"source":"../src/prefetch.ts","name":"has","original":{"line":75,"column":30},"generated":{"line":2,"column":1014}},{"source":"../src/prefetch.ts","name":"href","original":{"line":75,"column":34},"generated":{"line":2,"column":1018}},{"source":"../src/prefetch.ts","name":"observer","original":{"line":76,"column":17},"generated":{"line":2,"column":1023}},{"source":"../src/prefetch.ts","name":"observer","original":{"line":76,"column":17},"generated":{"line":2,"column":1025}},{"source":"../src/prefetch.ts","name":"unobserve","original":{"line":76,"column":26},"generated":{"line":2,"column":1034}},{"source":"../src/prefetch.ts","name":"link","original":{"line":76,"column":36},"generated":{"line":2,"column":1044}},{"source":"../src/prefetch.ts","name":"this","original":{"line":78,"column":17},"generated":{"line":2,"column":1047}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":78,"column":22},"generated":{"line":2,"column":1049}},{"source":"../src/prefetch.ts","name":"cache","original":{"line":78,"column":28},"generated":{"line":2,"column":1055}},{"source":"../src/prefetch.ts","name":"has","original":{"line":78,"column":34},"generated":{"line":2,"column":1061}},{"source":"../src/prefetch.ts","name":"href","original":{"line":78,"column":38},"generated":{"line":2,"column":1065}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":93,"column":19},"generated":{"line":2,"column":1068}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":93,"column":19},"generated":{"line":2,"column":1070}},{"source":"../src/prefetch.ts","name":"cache","original":{"line":93,"column":25},"generated":{"line":2,"column":1076}},{"source":"../src/prefetch.ts","name":"update","original":{"line":93,"column":31},"generated":{"line":2,"column":1082}},{"source":"../src/prefetch.ts","name":"href","original":{"line":93,"column":38},"generated":{"line":2,"column":1089}},{"source":"../src/prefetch.ts","name":null,"original":{"line":93,"column":44},"generated":{"line":2,"column":1091}},{"source":"../src/prefetch.ts","name":null,"original":{"line":93,"column":54},"generated":{"line":2,"column":1092}},{"source":"../src/prefetch.ts","name":null,"original":{"line":93,"column":54},"generated":{"line":2,"column":1099}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":79,"column":19},"generated":{"line":2,"column":1112}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":79,"column":19},"generated":{"line":2,"column":1114}},{"source":"../src/prefetch.ts","name":"cache","original":{"line":79,"column":25},"generated":{"line":2,"column":1120}},{"source":"../src/prefetch.ts","name":"set","original":{"line":79,"column":31},"generated":{"line":2,"column":1126}},{"source":"../src/prefetch.ts","name":"href","original":{"line":80,"column":16},"generated":{"line":2,"column":1130}},{"source":"../src/prefetch.ts","name":"this","original":{"line":81,"column":16},"generated":{"line":2,"column":1132}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":81,"column":21},"generated":{"line":2,"column":1134}},{"source":"../src/prefetch.ts","name":"request","original":{"line":82,"column":19},"generated":{"line":2,"column":1140}},{"source":"../src/prefetch.ts","name":"href","original":{"line":83,"column":20},"generated":{"line":2,"column":1148}},{"source":"../src/prefetch.ts","name":"this","original":{"line":84,"column":20},"generated":{"line":2,"column":1150}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":84,"column":25},"generated":{"line":2,"column":1152}},{"source":"../src/prefetch.ts","name":"timeout","original":{"line":84,"column":31},"generated":{"line":2,"column":1158}},{"source":"../src/prefetch.ts","name":"this","original":{"line":85,"column":20},"generated":{"line":2,"column":1166}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":85,"column":25},"generated":{"line":2,"column":1168}},{"source":"../src/prefetch.ts","name":null,"original":{"line":85,"column":20},"generated":{"line":2,"column":1174}},{"source":"../src/prefetch.ts","name":"bind","original":{"line":85,"column":49},"generated":{"line":2,"column":1189}},{"source":"../src/prefetch.ts","name":"this","original":{"line":85,"column":54},"generated":{"line":2,"column":1194}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":85,"column":59},"generated":{"line":2,"column":1196}},{"source":"../src/prefetch.ts","name":null,"original":{"line":85,"column":66},"generated":{"line":2,"column":1202}},{"source":"../src/prefetch.ts","name":"catch","original":{"line":87,"column":19},"generated":{"line":2,"column":1212}},{"source":"../src/prefetch.ts","name":"error","original":{"line":87,"column":25},"generated":{"line":2,"column":1218}},{"source":"../src/prefetch.ts","name":"error","original":{"line":87,"column":25},"generated":{"line":2,"column":1227}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":88,"column":25},"generated":{"line":2,"column":1230}},{"source":"../src/prefetch.ts","name":"logger","original":{"line":88,"column":25},"generated":{"line":2,"column":1232}},{"source":"../src/prefetch.ts","name":"error","original":{"line":88,"column":32},"generated":{"line":2,"column":1239}},{"source":"../src/prefetch.ts","name":"error","original":{"line":88,"column":38},"generated":{"line":2,"column":1245}},{"source":"../src/prefetch.ts","name":null,"original":{"line":90,"column":16},"generated":{"line":2,"column":1250}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":99,"column":9},"generated":{"line":2,"column":1268}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":99,"column":9},"generated":{"line":2,"column":1273}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":101,"column":9},"generated":{"line":2,"column":1283}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":101,"column":9},"generated":{"line":2,"column":1288}},{"source":"../src/prefetch.ts","name":"hooks","original":{"line":101,"column":15},"generated":{"line":2,"column":1294}},{"source":"../src/prefetch.ts","name":"after","original":{"line":101,"column":21},"generated":{"line":2,"column":1300}},{"source":"../src/prefetch.ts","name":"this","original":{"line":101,"column":27},"generated":{"line":2,"column":1306}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":101,"column":32},"generated":{"line":2,"column":1311}},{"source":"../src/prefetch.ts","name":"this","original":{"line":101,"column":41},"generated":{"line":2,"column":1319}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":105,"column":9},"generated":{"line":2,"column":1327}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":105,"column":9},"generated":{"line":2,"column":1329}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":105,"column":9},"generated":{"line":2,"column":1339}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1347}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1358}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1362}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1364}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1369}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1371}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1382}},{"source":"../src/prefetch.ts","name":"root","original":{"line":111,"column":13},"generated":{"line":2,"column":1384}},{"source":"../src/prefetch.ts","name":"querySelectorAll","original":{"line":111,"column":18},"generated":{"line":2,"column":1389}},{"source":"../src/prefetch.ts","name":null,"original":{"line":111,"column":35},"generated":{"line":2,"column":1406}},{"source":"../src/prefetch.ts","name":"forEach","original":{"line":111,"column":40},"generated":{"line":2,"column":1411}},{"source":"../src/prefetch.ts","name":"el","original":{"line":111,"column":48},"generated":{"line":2,"column":1419}},{"source":"../src/prefetch.ts","name":"el","original":{"line":111,"column":48},"generated":{"line":2,"column":1428}},{"source":"../src/prefetch.ts","name":"link","original":{"line":112,"column":16},"generated":{"line":2,"column":1431}},{"source":"../src/prefetch.ts","name":"link","original":{"line":112,"column":16},"generated":{"line":2,"column":1435}},{"source":"../src/prefetch.ts","name":"el","original":{"line":112,"column":24},"generated":{"line":2,"column":1437}},{"source":"../src/prefetch.ts","name":"href","original":{"line":113,"column":16},"generated":{"line":2,"column":1439}},{"source":"../src/prefetch.ts","name":"this","original":{"line":113,"column":23},"generated":{"line":2,"column":1441}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":113,"column":28},"generated":{"line":2,"column":1443}},{"source":"../src/prefetch.ts","name":"dom","original":{"line":113,"column":34},"generated":{"line":2,"column":1449}},{"source":"../src/prefetch.ts","name":"getHref","original":{"line":113,"column":38},"generated":{"line":2,"column":1453}},{"source":"../src/prefetch.ts","name":"link","original":{"line":113,"column":46},"generated":{"line":2,"column":1461}},{"source":"../src/prefetch.ts","name":"this","original":{"line":116,"column":13},"generated":{"line":2,"column":1464}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":116,"column":18},"generated":{"line":2,"column":1466}},{"source":"../src/prefetch.ts","name":"cache","original":{"line":116,"column":24},"generated":{"line":2,"column":1472}},{"source":"../src/prefetch.ts","name":"has","original":{"line":116,"column":30},"generated":{"line":2,"column":1478}},{"source":"../src/prefetch.ts","name":"href","original":{"line":116,"column":34},"generated":{"line":2,"column":1482}},{"source":"../src/prefetch.ts","name":"this","original":{"line":117,"column":13},"generated":{"line":2,"column":1486}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":117,"column":18},"generated":{"line":2,"column":1488}},{"source":"../src/prefetch.ts","name":"prevent","original":{"line":117,"column":24},"generated":{"line":2,"column":1494}},{"source":"../src/prefetch.ts","name":"checkUrl","original":{"line":117,"column":32},"generated":{"line":2,"column":1502}},{"source":"../src/prefetch.ts","name":"href","original":{"line":117,"column":41},"generated":{"line":2,"column":1511}},{"source":"../src/prefetch.ts","name":"this","original":{"line":118,"column":13},"generated":{"line":2,"column":1515}},{"source":"../src/prefetch.ts","name":"barba","original":{"line":118,"column":18},"generated":{"line":2,"column":1517}},{"source":"../src/prefetch.ts","name":"prevent","original":{"line":118,"column":24},"generated":{"line":2,"column":1523}},{"source":"../src/prefetch.ts","name":"checkLink","original":{"line":118,"column":32},"generated":{"line":2,"column":1531}},{"source":"../src/prefetch.ts","name":"link","original":{"line":118,"column":42},"generated":{"line":2,"column":1541}},{"source":"../src/prefetch.ts","name":null,"original":{"line":118,"column":48},"generated":{"line":2,"column":1543}},{"source":"../src/prefetch.ts","name":"link","original":{"line":118,"column":61},"generated":{"line":2,"column":1546}},{"source":"../src/prefetch.ts","name":"href","original":{"line":118,"column":66},"generated":{"line":2,"column":1548}},{"source":"../src/prefetch.ts","name":"observer","original":{"line":120,"column":17},"generated":{"line":2,"column":1556}},{"source":"../src/prefetch.ts","name":"observer","original":{"line":120,"column":17},"generated":{"line":2,"column":1558}},{"source":"../src/prefetch.ts","name":"observe","original":{"line":120,"column":26},"generated":{"line":2,"column":1567}},{"source":"../src/prefetch.ts","name":"el","original":{"line":120,"column":34},"generated":{"line":2,"column":1575}},{"source":"../src/prefetch.ts","name":"toPrefetch","original":{"line":121,"column":17},"generated":{"line":2,"column":1578}},{"source":"../src/prefetch.ts","name":"toPrefetch","original":{"line":121,"column":17},"generated":{"line":2,"column":1580}},{"source":"../src/prefetch.ts","name":"add","original":{"line":121,"column":28},"generated":{"line":2,"column":1591}},{"source":"../src/prefetch.ts","name":"href","original":{"line":121,"column":32},"generated":{"line":2,"column":1595}},{"source":"../src/prefetch.ts","name":null,"original":{"line":125,"column":6},"generated":{"line":2,"column":1602}},{"source":"../src/prefetch.ts","name":"this","original":{"line":106,"column":20},"generated":{"line":2,"column":1603}},{"source":"../src/prefetch.ts","name":"this","original":{"line":106,"column":20},"generated":{"line":2,"column":1611}},{"source":"../src/prefetch.ts","name":"timeout","original":{"line":106,"column":25},"generated":{"line":2,"column":1616}},{"source":"../src/prefetch.ts","name":null,"original":{"line":130,"column":17},"generated":{"line":2,"column":1627}},{"source":"../src/prefetch.ts","name":"Prefetch","original":{"line":130,"column":21},"generated":{"line":2,"column":1631}}],"sources":{"../src/prefetch.ts":"/**\n * @barba/prefetch\n * <br><br>\n * ## Barba prefetch.\n *\n * @module prefetch\n * @preferred\n */\n\nimport { IPrefetchOptions } from './defs/prefetch';\n\n/***/\n\n// Definitions\nimport { Core } from '@barba/core/src/core';\nimport { IBarbaPlugin } from '@barba/core/src/defs';\nimport { Logger } from '@barba/core/src/modules/Logger';\n\nimport { version } from '../package.json';\nimport { requestIdleCallback } from './polyfills';\n\nclass Prefetch implements IBarbaPlugin<IPrefetchOptions> {\n  public name = '@barba/prefetch';\n  public version = version;\n  public barba: Core;\n  public logger: Logger;\n\n  public observer: IntersectionObserver;\n  public root: HTMLElement | HTMLDocument;\n  public timeout: number;\n  public toPrefetch: Set<string> = new Set();\n\n  /**\n   * Plugin installation.\n   */\n  public install(\n    barba: Core,\n    { root = document.body, timeout = 2e3 }: IPrefetchOptions = {}\n  ) {\n    this.logger = new barba.Logger(this.name);\n    this.logger.print(this.version);\n    this.barba = barba;\n    this.root = root;\n    this.timeout = timeout;\n  }\n\n  /**\n   * Plugin initialisation.\n   */\n  public init() {\n    if (this.barba.prefetchIgnore) {\n      this.logger.warn('barba.prefetchIgnore is enabled');\n\n      return;\n    }\n    if (this.barba.cacheIgnore) {\n      this.logger.warn('barba.cacheIgnore is enabled');\n\n      return;\n    }\n\n    /**\n     * Init intersection observer\n     * when intersecting, it will check if URL should be prefetched\n     * then unobserve the element\n     * and, if no cache data, fetch the page\n     */\n    /* istanbul ignore next */\n    this.observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          const link = entry.target as HTMLLinkElement;\n          const href = this.barba.dom.getHref(link);\n\n          if (this.toPrefetch.has(href)) {\n            this.observer.unobserve(link);\n            // Prefetch and cache\n            if (!this.barba.cache.has(href)) {\n              this.barba.cache.set(\n                href,\n                this.barba\n                  .request(\n                    href,\n                    this.barba.timeout,\n                    this.barba['onRequestError'].bind(this.barba, 'barba') // tslint:disable-line:no-string-literal\n                  )\n                  .catch(error => {\n                    this.logger.error(error);\n                  }),\n                'prefetch'\n              );\n            } else {\n              this.barba.cache.update(href, { action: 'prefetch' });\n            }\n          }\n        }\n      });\n    });\n    this.observe();\n    // Register hooks\n    this.barba.hooks.after(this.observe, this);\n  }\n\n  /* istanbul ignore next */\n  public observe(): void {\n    const timeout = this.timeout;\n\n    requestIdleCallback(\n      () => {\n        // If not, find all links and use IntersectionObserver.\n        this.root.querySelectorAll('a').forEach(el => {\n          const link = (el as unknown) as HTMLLinkElement;\n          const href = this.barba.dom.getHref(link);\n\n          if (\n            !this.barba.cache.has(href) &&\n            !this.barba.prevent.checkUrl(href) &&\n            !this.barba.prevent.checkLink(link, {} as Event, link.href)\n          ) {\n            this.observer.observe(el);\n            this.toPrefetch.add(href);\n          }\n        });\n      },\n      { timeout }\n    );\n  }\n}\n\nconst prefetch = new Prefetch();\n\nexport default prefetch;\n","../src/polyfills/requestIdleCallback.ts":"/**\n * @module prefetch/polyfills\n */\n/**\n * Copyright 2018 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// [source](https://github.com/GoogleChromeLabs/quicklink/blob/master/src/request-idle-callback.mjs)\n// RIC and shim for browsers setTimeout() without it\nexport const requestIdleCallback =\n  // @ts-ignore\n  window.requestIdleCallback ||\n  function ric(cb: any) {\n    const start = Date.now();\n\n    return setTimeout(() => {\n      cb({\n        didTimeout: false,\n        timeRemaining: function timeRemaining() {\n          return Math.max(0, 50 - (Date.now() - start));\n        },\n      });\n    }, 1);\n  };\n"},"lineCount":null}},"error":null,"hash":"35b3abc4b5af69bde9c54537b45aeba6","cacheData":{"env":{}}}