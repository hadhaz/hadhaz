(()=>{var mt=Object.prototype.hasOwnProperty,q=Object.getOwnPropertySymbols,dt=Object.prototype.propertyIsEnumerable,d=Object.assign,H=(t,e)=>{var i={};for(var s in t)mt.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(t!=null&&q)for(var s of q(t))e.indexOf(s)<0&&dt.call(t,s)&&(i[s]=t[s]);return i},pt={wrapperAttr:"wrapper",noAjaxLinkAttr:"no-ajax-link",noPrefetchAttr:"no-prefetch",headers:[["x-partial","true"]],preventSelfAttr:'prevent="self"',preventAllAttr:'prevent="all"',transitionAttr:"transition",blockAttr:"block",timeout:3e4},gt=t=>Object.assign(d({},pt),t),ft=(t,e,i=!0)=>{let{prefix:s}=t,n=`data${s?"-"+s:""}-${e}`;return i?`[${n}]`:n},c=(t,e,i=!0)=>{if(typeof e!="string")return t;let s=t[e];return typeof s=="string"?ft(t,s,i):s},v=class{constructor(t){this.map=new Map(t)}getMap(){return this.map}get(t){return this.map.get(t)}keys(){return Array.from(this.map.keys())}values(){return Array.from(this.map.values())}set(t,e){return this.map.set(t,e),this}add(t){let e=this.size;return this.set(e,t),this}get size(){return this.map.size}get length(){return this.map.size}last(t=1){let e=this.keys()[this.size-t];return this.get(e)}delete(t){return this.map.delete(t)}remove(t){return this.map.delete(t),this}clear(){return this.map.clear(),this}has(t){return this.map.has(t)}entries(){return this.map.entries()}forEach(t,e){return this.map.forEach(t,e),this}[Symbol.iterator](){return this.entries()}},x=(t,e,...i)=>{t.forEach(s=>{s[e](...i)})},U=class{constructor(){}install(){}register(t,e){return this.manager=t,this.app=t.app,this.config=t.config,this.emitter=t.emitter,this.key=e,this.install(),this}uninstall(){}unregister(){this.uninstall(),this.manager.remove(this.key),this.key=void 0,this.manager=void 0,this.app=void 0,this.config=void 0,this.emitter=void 0}},W=class extends v{constructor(t){super();this.app=t,this.config=t.config,this.emitter=t.emitter}set(t,e){return super.set(t,e),e.register(this,t),this}},u=(t=window.location.href)=>t instanceof URL?t:new URL(t,window.location.origin),M=t=>`${t.pathname}${t.hash}`,Y=t=>t.toString().replace(/(\/#.*|\/|#.*)$/,""),$=(t,e)=>{let i=u(t),s=u(e);return Y(i)===Y(s)},p=class extends U{init(){}boot(){this.initEvents()}initEvents(){}stopEvents(){}stop(){this.stopEvents(),this.unregister()}},At=class extends W{constructor(t){super(t)}init(){return x(this,"init"),this}boot(){return x(this,"boot"),this}stop(){return x(this,"stop"),this}},T=(t=window.scrollX,e=window.scrollY)=>({x:t,y:e}),N=(t={url:M(u()),index:0,transition:"default",data:{scroll:T(),trigger:"HistoryManager"}})=>t,G=class extends p{constructor(){super(...arguments);this.pointer=-1}init(){this.states=[];let t=N();this.add(t,"replace")}get(t){return this.states[t]}add(t,e="push"){let i=N(t),s=this.length;this.states.push(d({},i)),this.pointer=s;let n={index:this.pointer,states:[...this.states]};return bt(e,i,n),this}remove(t){return t?this.states.splice(t,1):this.states.pop(),this.pointer--,this}replace(t){return this.states=t,this}set(t,e){return this.states[t]=e}get current(){return this.get(this.pointer)}get last(){return this.get(this.length-1)}get previous(){return this.pointer<1?null:this.get(this.pointer-1)}get length(){return this.states.length}},bt=(t,e,i)=>{let s=M(u(e.url)),n=[i,"",s];if(window.history)switch(t){case"push":window.history.pushState.apply(window.history,n);break;case"replace":window.history.replaceState.apply(window.history,n);break}},wt=new DOMParser,Q=class extends U{constructor(t=u(),e=document){super();this.url=t,typeof e=="string"?this.data=e:this.dom=e||document}build(){if(this.dom instanceof Node||(this.dom=wt.parseFromString(this.data,"text/html")),!(this.body instanceof Node)){let{title:t,head:e,body:i}=this.dom;this.title=t,this.head=e,this.body=i,this.wrapper=this.body.querySelector(this.wrapperAttr)}}install(){this.wrapperAttr=c(this.config,"wrapperAttr")}uninstall(){this.url=void 0,this.title=void 0,this.head=void 0,this.body=void 0,this.dom=void 0,this.wrapper=void 0,this.data=void 0,this.wrapperAttr=void 0}},J=class extends p{constructor(){super(...arguments);this.loading=new v}install(){var e;this.pages=new W(this.app),this.maxPages=(e=this.config.maxPages)!=null?e:5;let t=u().pathname;this.set(t,new Q),t=void 0}get(t){return this.pages.get(t)}add(t){return this.pages.add(t),this}set(t,e){return this.pages.set(t,e),this}remove(t){return this.pages.remove(t),this}has(t){return this.pages.has(t)}clear(){return this.pages.clear(),this}get size(){return this.pages.size}keys(){return this.pages.keys()}async load(t=u()){let e=u(t),i=e.pathname,s,n;if(this.has(i))return s=this.get(i),Promise.resolve(s);this.loading.has(i)?n=this.loading.get(i):(n=this.request(i),this.loading.set(i,n));let r=await n;if(this.loading.remove(i),s=new Q(e,r),this.set(i,s),this.size>this.maxPages){let a=u(),o=this.keys(),h=$(a,o[0])?o[1]:o[0],l=this.get(h);l.unregister(),l=void 0,o=void 0,a=void 0,h=void 0}return s}async request(t){let e=new Headers(c(this.config,"headers")),i=window.setTimeout(()=>{throw window.clearTimeout(i),"Request Timed Out!"},c(this.config,"timeout"));try{let s=await fetch(t,{mode:"same-origin",method:"GET",headers:e,cache:"default",credentials:"same-origin"});if(window.clearTimeout(i),s.status>=200&&s.status<300)return await s.text();throw new Error(s.statusText||""+s.status)}catch(s){throw window.clearTimeout(i),s}}},j=({callback:t=()=>{},scope:e=null,name:i="event"})=>({callback:t,scope:e,name:i}),R=class extends v{constructor(t="event"){super();this.name=t}},V=class extends v{constructor(){super()}getEvent(t){let e=this.get(t);return e instanceof R?e:(this.set(t,new R(t)),this.get(t))}newListener(t,e,i){let s=this.getEvent(t);return s.add(j({name:t,callback:e,scope:i})),s}on(t,e,i){if(typeof t=="undefined")return this;typeof t=="string"&&(t=t.trim().split(/\s/g));let s,n,r=typeof t=="object"&&!Array.isArray(t),a=r?e:i;return r||(n=e),Object.keys(t).forEach(o=>{r?(s=o,n=t[o]):s=t[o],this.newListener(s,n,a)},this),this}removeListener(t,e,i){let s=this.get(t);if(s instanceof R&&e){let n=j({name:t,callback:e,scope:i});s.forEach((r,a)=>{if(r.callback===n.callback&&r.scope===n.scope)return s.remove(a)})}return s}off(t,e,i){if(typeof t=="undefined")return this;typeof t=="string"&&(t=t.trim().split(/\s/g));let s,n,r=typeof t=="object"&&!Array.isArray(t),a=r?e:i;return r||(n=e),Object.keys(t).forEach(o=>{r?(s=o,n=t[o]):s=t[o],typeof n=="function"?this.removeListener(s,n,a):this.remove(s)},this),this}emit(t,...e){return typeof t=="undefined"?this:(typeof t=="string"&&(t=t.trim().split(/\s/g)),t.forEach(i=>{let s=this.get(i);s instanceof R&&s.forEach(n=>{let{callback:r,scope:a}=n;r.apply(a,e)})},this),this)}clear(){return x(this,"clear"),super.clear(),this}},K=(t,e=window.location.hash)=>{try{let i=e[0]=="#"?e:u(e).hash;if(i.length>1){let s=document.getElementById(i.slice(1));if(s)return T(s.offsetLeft,s.offsetTop)}}catch(i){console.warn("[hashAction] error",i)}return t!=null?t:T(0,0)},vt={name:"default",scrollable:!0,out({done:t}){t()},in({scroll:t,done:e}){window.scroll(t.x,t.y),e()}},Z=class extends p{constructor(t){super();this._arg=t}install(){var e;super.install();let t=this._arg&&this._arg.length?this._arg:(e=c(this.config,"transitions"))!=null?e:[];t=[["default",vt]].concat(t),this.transitions=new v(t)}get(t){return this.transitions.get(t)}set(t,e){return this.transitions.set(t,e),this}add(t){return this.transitions.add(t),this}has(t){return this.transitions.has(t)}async animate(t,e){let i=this.transitions.get(t),s=e.scroll,n=e.ignoreHashAction;if(!("wrapper"in e.oldPage)||!("wrapper"in e.newPage))throw`[Page] either oldPage or newPage aren't instances of the Page Class.
 ${{newPage:e.newPage,oldPage:e.oldPage}}`;document.title=""+e.newPage.title;let r=e.oldPage.wrapper,a=e.newPage.wrapper;if(!(r instanceof Node)||!(a instanceof Node))throw`[Wrapper] the wrapper from the ${a instanceof Node?"current":"next"} page cannot be found. The wrapper must be an element that has the attribute ${c(this.config,"wrapperAttr")}.`;return i.init&&(i==null||i.init(e)),this.emitter.emit("BEFORE_TRANSITION_OUT"),i.out&&await new Promise(o=>{var h;(h=i.out.call(i,d(d({},e),{from:e.oldPage,trigger:e.trigger,done:o})))==null||h.then(o)}),this.emitter.emit("AFTER_TRANSITION_OUT"),await new Promise(o=>{r.insertAdjacentElement("beforebegin",a),this.emitter.emit("CONTENT_INSERT"),!n&&!/back|popstate|forward/.test(e.trigger)&&(s=K(s)),o()}),await new Promise(o=>{r.remove(),r=void 0,a=void 0,this.emitter.emit("CONTENT_REPLACED"),o()}),this.emitter.emit("BEFORE_TRANSITION_IN"),i.in&&await new Promise(async o=>{var h;(h=i.in.call(i,d(d({},e),{from:e.oldPage,to:e.newPage,trigger:e.trigger,scroll:s,done:o})))==null||h.then(o)}),this.emitter.emit("AFTER_TRANSITION_IN"),i}},tt=class{constructor(t={}){this.register(t)}register(t={}){this.config=gt(t),this.emitter=new V,this.services=new At(this);let e=(()=>{document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),this.emitter.emit("READY ready")}).bind(this);return document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),this}get(t){return this.services.get(t)}set(t,e){return this.services.set(t,e),this}add(t){return this.services.add(t),this}boot(){return this.services.init(),this.services.boot(),this}stop(){return this.services.stop(),this.emitter.clear(),this}on(t,e){return this.emitter.on(t,e,this),this}off(t,e){return this.emitter.off(t,e,this),this}emit(t,...e){return this.emitter.emit(t,...e),this}},et=class extends p{install(){var t,e,i,s,n,r;super.install(),this.ignoreURLs=(t=c(this.config,"ignoreURLs"))!=null?t:[],this.prefetchIgnore=(e=c(this.config,"prefetchIgnore"))!=null?e:!1,this.stopOnTransitioning=(i=c(this.config,"stopOnTransitioning"))!=null?i:!1,this.stickyScroll=(s=c(this.config,"stickyScroll"))!=null?s:!1,this.forceOnError=(n=c(this.config,"forceOnError"))!=null?n:!1,this.ignoreHashAction=(r=c(this.config,"ignoreHashAction"))!=null?r:!1}transitionStart(){this.isTransitioning=!0}transitionStop(){this.isTransitioning=!1}init(){this.onHover=this.onHover.bind(this),this.onClick=this.onClick.bind(this),this.onStateChange=this.onStateChange.bind(this)}boot(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual"),super.boot()}getTransitionName(t){if(!t||!t.getAttribute)return null;let e=t.getAttribute(c(this.config,"transitionAttr",!1));return typeof e=="string"?e:null}validLink(t,e,i){let s=!window.history.pushState,n=!t||!i,r=e.metaKey||e.ctrlKey||e.shiftKey||e.altKey,a=t.hasAttribute("target")&&t.target==="_blank",o=t.protocol!==location.protocol||t.hostname!==location.hostname,h=typeof t.getAttribute("download")=="string",l=t.matches(c(this.config,"preventSelfAttr")),A=Boolean(t.closest(c(this.config,"preventAllAttr"))),f=M(u())===M(u(i));return!(n||s||r||a||o||h||l||A||f)}getHref(t){return t&&t.tagName&&t.tagName.toLowerCase()==="a"&&typeof t.href=="string"?t.href:null}getLink(t){let e=t.target,i=this.getHref(e);for(;e&&!i;)e=e.parentNode,i=this.getHref(e);if(!(!e||!this.validLink(e,t,i)))return e}onClick(t){let e=this.getLink(t);if(e){if(this.isTransitioning&&this.stopOnTransitioning){t.preventDefault(),t.stopPropagation();return}let i=this.getHref(e);this.emitter.emit("ANCHOR_CLICK CLICK",t),this.go({href:i,trigger:e,event:t})}}getDirection(t){return Math.abs(t)>1?t>0?"forward":"back":t===0?"popstate":t>0?"back":"forward"}force(t){window.location.assign(t)}go({href:t,trigger:e="HistoryManager",event:i}){if(this.isTransitioning&&this.stopOnTransitioning||!(this.manager.has("TransitionManager")&&this.manager.has("HistoryManager")&&this.manager.has("PageManager"))){this.force(t);return}let s=this.manager.get("HistoryManager"),n=T(0,0),r=s.current,a=r.url;if(!$(a,t)){let o;if(i&&i.state){this.emitter.emit("POPSTATE",i);let{state:h}=i,{index:l}=h,A=r.index-l,f=s.get(s.pointer);o=f.transition,n=f.data.scroll,s.replace(h.states),s.pointer=l,e=this.getDirection(A),this.emitter.emit(e==="back"?"POPSTATE_BACK":"POPSTATE_FORWARD",i)}else{o=this.getTransitionName(e),n=T();let h=N({url:t,transition:o,data:{scroll:n}});!this.stickyScroll&&(n=T(0,0)),s.add(h),this.emitter.emit("HISTORY_NEW_ITEM",i)}return i&&(i.stopPropagation(),i.preventDefault()),this.emitter.emit("GO",i),this.load({oldHref:a,href:t,trigger:e,transitionName:o,scroll:n})}}async load({oldHref:t,href:e,trigger:i,transitionName:s="default",scroll:n={x:0,y:0}}){try{let r=this.manager.get("PageManager"),a,o;this.emitter.emit("NAVIGATION_START",{oldHref:t,href:e,trigger:i,transitionName:s});try{this.transitionStart(),o=await r.load(t),!(o.dom instanceof Element)&&o.build(),this.emitter.emit("PAGE_LOADING",{href:e,oldPage:o,trigger:i}),a=await r.load(e),await a.build(),this.emitter.emit("PAGE_LOAD_COMPLETE",{newPage:a,oldPage:o,trigger:i})}catch(h){throw`[PJAX] page load error: ${h}`}try{let h=this.manager.get("TransitionManager");this.emitter.emit("TRANSITION_START",s);let l=await h.animate(h.has(s)?s:"default",{oldPage:o,newPage:a,trigger:i,scroll:n,ignoreHashAction:this.ignoreHashAction});l.scrollable||(!this.ignoreHashAction&&!/back|popstate|forward/.test(i)&&(n=K(n)),window.scroll(n.x,n.y)),this.emitter.emit("TRANSITION_END",{transition:l})}catch(h){throw`[PJAX] transition error: ${h}`}this.emitter.emit("NAVIGATION_END",{oldPage:o,newPage:a,trigger:i,transitionName:s})}catch(r){this.forceOnError?this.force(e):console.warn(r)}finally{this.transitionStop()}}ignoredURL({pathname:t}){return this.ignoreURLs.length&&this.ignoreURLs.some(e=>typeof e=="string"?e===t:e.exec(t)!==null)}onHover(t){let e=this.getLink(t);if(!(!e||!this.manager.has("PageManager"))){let i=this.manager.get("PageManager"),s=u(this.getHref(e)),n=s.pathname;if(!(this.ignoredURL(s)||i.has(n))){this.emitter.emit("ANCHOR_HOVER HOVER",t);try{i.load(s)}catch(r){console.warn("[PJAX] prefetch error,",r)}}}}onStateChange(t){this.go({href:window.location.href,trigger:"popstate",event:t})}initEvents(){this.prefetchIgnore!==!0&&(document.addEventListener("mouseover",this.onHover),document.addEventListener("touchstart",this.onHover)),document.addEventListener("click",this.onClick),window.addEventListener("popstate",this.onStateChange)}stopEvents(){this.prefetchIgnore!==!0&&(document.removeEventListener("mouseover",this.onHover),document.removeEventListener("touchstart",this.onHover)),document.removeEventListener("click",this.onClick),window.removeEventListener("popstate",this.onStateChange)}},Et=t=>typeof t=="string"?Array.from(document.querySelectorAll(t)):[t],yt=t=>[].concat(...t),it=t=>Array.isArray(t)?yt(t.map(it)):typeof t=="string"||t instanceof Node?Et(t):t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[],st=(t,e,i)=>typeof t=="function"?t.apply(i,e):t,nt=(t,e,i)=>{let s,n,r={},a=Object.keys(t);for(let o=0,h=a.length;o<h;o++)s=a[o],n=t[s],r[s]=st(n,e,i);return r},Tt={in:"ease-in",out:"ease-out","in-out":"ease-in-out","in-sine":"cubic-bezier(0.47, 0, 0.745, 0.715)","out-sine":"cubic-bezier(0.39, 0.575, 0.565, 1)","in-out-sine":"cubic-bezier(0.445, 0.05, 0.55, 0.95)","in-quad":"cubic-bezier(0.55, 0.085, 0.68, 0.53)","out-quad":"cubic-bezier(0.25, 0.46, 0.45, 0.94)","in-out-quad":"cubic-bezier(0.455, 0.03, 0.515, 0.955)","in-cubic":"cubic-bezier(0.55, 0.055, 0.675, 0.19)","out-cubic":"cubic-bezier(0.215, 0.61, 0.355, 1)","in-out-cubic":"cubic-bezier(0.645, 0.045, 0.355, 1)","in-quart":"cubic-bezier(0.895, 0.03, 0.685, 0.22)","out-quart":"cubic-bezier(0.165, 0.84, 0.44, 1)","in-out-quart":"cubic-bezier(0.77, 0, 0.175, 1)","in-quint":"cubic-bezier(0.755, 0.05, 0.855, 0.06)","out-quint":"cubic-bezier(0.23, 1, 0.32, 1)","in-out-quint":"cubic-bezier(0.86, 0, 0.07, 1)","in-expo":"cubic-bezier(0.95, 0.05, 0.795, 0.035)","out-expo":"cubic-bezier(0.19, 1, 0.22, 1)","in-out-expo":"cubic-bezier(1, 0, 0, 1)","in-circ":"cubic-bezier(0.6, 0.04, 0.98, 0.335)","out-circ":"cubic-bezier(0.075, 0.82, 0.165, 1)","in-out-circ":"cubic-bezier(0.785, 0.135, 0.15, 0.86)","in-back":"cubic-bezier(0.6, -0.28, 0.735, 0.045)","out-back":"cubic-bezier(0.175, 0.885, 0.32, 1.275)","in-out-back":"cubic-bezier(0.68, -0.55, 0.265, 1.55)"},Lt=t=>/^(in|out)/.test(t)?Tt[t]:t,rt={keyframes:[],loop:1,delay:0,speed:1,endDelay:0,easing:"ease",autoplay:!0,duration:1e3,fillMode:"auto",direction:"normal",extend:{}},ot=class{constructor(t={}){var e;this.options={},this.targets=[],this.properties={},this.animations=new v,this.totalDuration=0,this.minDelay=0,this.computedOptions=new v,this.emitter=new V;try{let{options:s}=t,n=H(t,["options"]),r=s instanceof ot?s.getOptions():Array.isArray(s)?(e=s==null?void 0:s[0])==null?void 0:e.getOptions():s;this.options=Object.assign({},rt,r,n),this.loop=this.loop.bind(this);let i=this.options,{loop:a,delay:o,speed:h,easing:l,endDelay:A,duration:f,direction:F,fillMode:X,onfinish:E,target:at,keyframes:ht,autoplay:lt,extend:ct}=i,ut=H(i,["loop","delay","speed","easing","endDelay","duration","direction","fillMode","onfinish","target","keyframes","autoplay","extend"]);this.mainElement=document.createElement("div"),this.targets=it(at),this.properties=ut;let B=[],y=this.targets.length,k;for(let b=0;b<y;b++){let w=this.targets[b],m=d({easing:typeof l=="string"?Lt(l):l,iterations:a===!0?Infinity:a,direction:F,endDelay:A,duration:f,delay:o,fill:X},ct),S=st(ht,[b,y,w],m);k=S.length?S:this.properties,m=nt(m,[b,y,w],m),S.length>0||(k=nt(k,[b,y,w],m));let z=m.delay+m.duration*m.iterations+m.endDelay;this.totalDuration<z&&(this.totalDuration=z);let L=w.animate(k,m);L.onfinish=()=>{typeof E=="function"&&E.call(this,w,b,y,L),this.emit("finish",w,b,y,L)},this.computedOptions.set(L,m),this.animations.set(w,L),B.push(m.delay)}this.mainAnimation=this.mainElement.animate([{opacity:"0"},{opacity:"1"}],{duration:this.totalDuration,easing:"linear"}),this.minDelay=Math.min(...B),this.setSpeed(h),lt?this.play():this.pause(),this.promise=this.newPromise(),this.mainAnimation.onfinish=()=>{this.emit("complete",this),window.cancelAnimationFrame(this.animationFrame)}}catch(s){this.emit("error",s)}}newPromise(){return new Promise((t,e)=>{this.on("complete",()=>t([this])),this.on("error",i=>e(i))})}then(t,e){return t=t==null?void 0:t.bind(this),e=e==null?void 0:e.bind(this),this.promise.then(t,e),this}catch(t){return t=t==null?void 0:t.bind(this),this.promise.catch(t),this}finally(t){return t=t==null?void 0:t.bind(this),this.promise.finally(t),this}loop(){this.animationFrame=window.requestAnimationFrame(this.loop),this.emit("update",this.getProgress(),this)}all(t){return t(this.mainAnimation),this.animations.forEach(e=>t(e)),this}beginEvent(){if(this.getProgress()==0){let t=window.setTimeout(()=>{this.emit("begin",this),t=window.clearTimeout(t)},this.minDelay)}}play(){let t=this.getPlayState();return t!=="finished"&&(this.beginEvent(),this.animationFrame=requestAnimationFrame(this.loop),this.all(e=>e.playState=="paused"&&e.play()),this.emit("play",t,this)),this}pause(){let t=this.getPlayState();return t!=="finished"&&(this.all(e=>e.playState=="running"&&e.pause()),window.cancelAnimationFrame(this.animationFrame),this.emit("pause",t,this)),this}reset(){return this.setProgress(0),this.beginEvent(),this.options.autoplay?this.play():this.pause(),this}cancel(){return this.all(t=>t.cancel()),window.cancelAnimationFrame(this.animationFrame),this}finish(){return this.all(t=>t.finish()),window.cancelAnimationFrame(this.animationFrame),this}stop(){for(this.cancel(),this.animations.clear();this.targets.length;)this.targets.pop();this.mainElement=void 0,this.emit("stop")}getTargets(){return this.targets}getAnimation(t){return this.animations.get(t)}getTiming(t){var r,a,o;let e=t instanceof Animation?t:this.getAnimation(t),i=(r=this.computedOptions.get(e))!=null?r:{},s=(o=(a=e.effect)==null?void 0:a.getTiming())!=null?o:{},n=this.getOptions();return d(d(d(d({},rt),n),s),i)}getTotalDuration(){return this.totalDuration}getCurrentTime(){return this.mainAnimation.currentTime}getProgress(){return this.getCurrentTime()/this.totalDuration*100}getSpeed(){return this.mainAnimation.playbackRate}getPlayState(){return this.mainAnimation.playState}getOptions(){return this.options}setCurrentTime(t){return this.all(e=>{e.currentTime=t}),this.emit("update",this.getProgress()),this}setProgress(t){let e=t/100*this.totalDuration;return this.setCurrentTime(e),this}setSpeed(t=1){return this.all(e=>{e.playbackRate=t}),this}on(t,e,i){return this.emitter.on(t,e,i!=null?i:this),this}off(t,e,i){return this.emitter.off(t,e,i!=null?i:this),this}emit(t,...e){return this.emitter.emit(t,...e),this}toJSON(){return this.getOptions()}get[Symbol.toStringTag](){return"Animate"}},P=(t={})=>new ot(t),g=t=>Array.prototype.slice.call(t),C=class extends p{init(){super.init(),this.elements=g(document.querySelectorAll(".intro-animation")),this.entries=[];let e=window.scrollY,i=window.scrollY+window.innerHeight;for(let s of this.elements){let{bottom:n,top:r}=s.getBoundingClientRect();(n>e&&n<i||r<i&&r>e)&&this.entries.push(s)}}newPage(){this.init(),this.prepareToShow()}initEvents(){this.emitter.on("BEFORE_SPLASHSCREEN_HIDE",this.prepareToShow,this),this.emitter.on("CONTENT_REPLACED",this.newPage,this),this.emitter.on("AFTER_SPLASHSCREEN_HIDE BEFORE_TRANSITION_IN",this.show,this)}stopEvents(){this.emitter.off("BEFORE_SPLASHSCREEN_HIDE",this.prepareToShow,this),this.emitter.off("CONTENT_REPLACED",this.newPage,this),this.emitter.off("AFTER_SPLASHSCREEN_HIDE BEFORE_TRANSITION_IN",this.show,this)}uninstall(){requestAnimationFrame(()=>{for(let e of this.entries)e.style.opacity="1"})}prepareToShow(){requestAnimationFrame(()=>{for(let e of this.entries)e.style.opacity="0"})}async show(){return await P({target:this.entries,opacity:[0,1],delay(e){return 300*e},onfinish:e=>{requestAnimationFrame(()=>{e.style.opacity="1"})},easing:"ease-out",duration:650})}},O=class extends p{init(){this.navbar=document.querySelector(".navbar"),this.elements=g(this.navbar.querySelectorAll(".navbar-item")),this.menu=document.querySelector(".navbar-menu"),this.click=this.click.bind(this)}validLink(e){return e&&e.tagName&&(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button")}getLink({target:e}){let i=e;for(;i&&!this.validLink(i);)i=i.parentNode;if(!!i)return i}click(e){let i=this.getLink(e);!i||(i.classList.contains("navbar-menu")?this.navbar.classList.toggle("active"):i.classList.contains("navbar-link")&&this.navbar.classList.remove("active"))}activateLink(){let{href:e}=window.location;for(let i of this.elements){let s=i.getAttribute("data-path")||i.href;if(!(!s||s.length<1)){let n=new RegExp(s).test(e),r=i.classList.contains("active");n&&r||i.classList.toggle("active",n)}}}initEvents(){this.navbar.addEventListener("click",this.click),this.emitter.on("READY",this.activateLink,this),this.emitter.on("GO",this.activateLink,this)}stopEvents(){this.navbar.removeEventListener("click",this.click),this.emitter.off("READY",this.activateLink,this),this.emitter.off("GO",this.activateLink,this)}uninstall(){for(;this.elements.length;)this.elements.pop();this.elements=void 0,this.menu=void 0,this.navbar=void 0}},_=class extends p{constructor(){super(...arguments);this.WebpSupport=!1;this.waitOnResize=!1}init(){super.init(),this.resize=this.resize.bind(this),this.before_transition_out=this.before_transition_out.bind(this),this.content_insert=this.content_insert.bind(this),(async()=>{await this.test_webp(),this.get_images(),requestAnimationFrame(()=>{this.load_img()})})()}get_images(){this.images=g(document.querySelectorAll("figure.img"))}remove_images(){for(;this.images.length;)this.images.pop()}async test_webp(){let e=i=>new Promise((s,n)=>{let r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},a=new window.Image;a.src="data:image/webp;base64,"+r[i],a.onload=()=>{let o=a.width>0&&a.height>0;a=s(o)},a.onerror=()=>{a=n(!1)}});try{let i=await e("lossless");this.WebpSupport=i}catch(i){this.WebpSupport=!1,console.info("Using JPG instead, of WEBP as this browser doesn't support WEBP.")}}load_img(){for(let e of this.images){let i=e.querySelector(".img-core"),s=i.getAttribute("data-src"),n=Math.max(Math.round(e.clientWidth),10),r=Math.max(Math.round(e.clientHeight),10),a=i.hasAttribute("data-max-w")?i.getAttribute("data-max-w"):0;Number(a)<Number(n)?(i.setAttribute("data-max-w",""+n),i.setAttribute("width",""+n),i.setAttribute("height",""+r)):n=Number(a);let o=s.replace(/w_auto/,`w_${n}`);if(r>n&&(o=o.replace(/ar_4:3,/,"ar_3:4,")),this.WebpSupport||(o=o.replace(".webp",".jpg")),o===i.src)return;i.src=o,e.classList.contains("img-show")||(i.onload=()=>{e.classList.add("img-show"),i.onload=void 0,i=void 0})}}resize(){if(!this.waitOnResize){let e;this.waitOnResize=!0,requestAnimationFrame(()=>{this.load_img(),e=window.setTimeout(()=>{this.waitOnResize=!1,e=window.clearTimeout(e)},500)})}}initEvents(){window.addEventListener("resize",this.resize,{passive:!0}),this.emitter.on("BEFORE_TRANSITION_OUT",this.before_transition_out),this.emitter.on("CONTENT_INSERT",this.content_insert)}content_insert(){this.get_images(),this.load_img()}before_transition_out(){this.remove_images()}stopEvents(){window.removeEventListener("resize",this.resize),this.emitter.off("BEFORE_TRANSITION_OUT",this.before_transition_out),this.emitter.off("CONTENT_INSERT",this.content_insert)}uninstall(){this.remove_images(),this.images=void 0}},Pt=(t,e,i)=>(1-i)*t+i*e,I=class extends p{constructor(){super(...arguments);this.ease=.125;this.speed=1.95;this.isScrolling=!1}init(){this.rootElement=document.querySelector("#Carousel"),this.rootElement&&(this.rootElement.classList.add("active"),this.container=this.rootElement.getElementsByClassName("carousel-container")[0],this.viewport=this.rootElement.getElementsByClassName("carousel-viewport")[0],this.slides=g(this.rootElement.getElementsByClassName("carousel-item")),this.carouselBtn=this.rootElement.getElementsByClassName("carousel-btn")[0],this.prevBtn=this.carouselBtn.getElementsByClassName("prev-btn")[0],this.nextBtn=this.carouselBtn.getElementsByClassName("next-btn")[0],this.dotContainer=this.rootElement.getElementsByClassName("carousel-dots")[0],this.dots=g(this.rootElement.getElementsByClassName("carousel-dot")),this.dot=this.dots[0],this.slideLen=this.slides.length,this.center=window.innerWidth/2,this.viewportWidth=0,this.currentX=0,this.width=0,this.index=0,this.lastIndex=this.index,this.lastX=0,this.maxX=0,this.minX=0,this.offX=0,this.onX=0,this.onY=0,this.snapOnce=!1,this.isDragging=!1,this.isScrolling=!1,this.waitForResize=!1,this.setBounds(),this.clearDots(),this.setDots(),this.select(this.index),["on","off","run","next","prev","scroll","setPos","resize","keypress","dotClick"].forEach(e=>{var i;this[e]=(i=this[e])==null?void 0:i.bind(this)}),this.setHeight(),this.addCarouselEvents())}setDots(){requestAnimationFrame(()=>{for(let e=0;e<this.slideLen;e++){let i=this.dot.cloneNode();e===this.index&&i.classList.add("active"),i.setAttribute("data-index",`${e}`),this.dotContainer.appendChild(i),this.dots[e]=i,i=void 0}})}setActiveDot(){requestAnimationFrame(()=>{this.dots[this.lastIndex].classList.remove("active"),this.dots[this.index].classList.add("active")})}clearDots(){requestAnimationFrame(()=>{for(let e=this.dots.length;--e>=0;)this.dots[e].classList.remove("active"),this.dots[e].removeAttribute("data-index"),this.dots[e].remove(),this.dots.pop()})}setHeight(){requestAnimationFrame(()=>{let e=this.slides[0].getBoundingClientRect().height;for(let i=0;i<this.slideLen;i++){let s=this.slides[i].scrollHeight;s>e&&(e=s)}this.container.style.height=`${e}px`})}setBounds(){let{width:e}=this.slides[0].getBoundingClientRect();this.width=e,this.viewportWidth=this.width*this.slideLen,this.maxX=-(this.viewportWidth-window.innerWidth+this.width/4),this.minX=this.width/4,this.setHeight()}setPos(e){if(!!this.isDragging){let i=e.changedTouches;if(window.TouchEvent&&e instanceof window.TouchEvent){e.stopPropagation();let n=Math.abs(this.onX-i[i.length-1].clientX),r=Math.abs(this.onY-i[i.length-1].clientY);if(n<r)return}let s=window.MouseEvent&&e instanceof window.MouseEvent?e.clientX:typeof e=="number"?e:i[i.length-1].clientX;this.setCurrentX(this.offX+(s-this.onX)*this.speed),this.rAF===null&&this.requestAnimationFrame()}}on(e){let i=e.changedTouches;window.TouchEvent&&e instanceof window.TouchEvent&&e.stopPropagation(),this.isDragging=!0,this.onX=window.MouseEvent&&e instanceof window.MouseEvent?e.clientX:typeof e=="number"?e:i[i.length-1].clientX,this.onY=window.MouseEvent&&e instanceof window.MouseEvent?e.clientY:typeof e=="number"?0:i[i.length-1].clientY,this.rootElement.classList.add("is-grabbing"),this.rAF===null&&this.requestAnimationFrame()}parsePercent(e){return e*this.viewportWidth/100}closest(){let e,i,s=this.parsePercent(this.currentX);for(let n=0;n<this.slideLen;n++){let r=Math.abs(n*this.width+s);(r<e||typeof e=="undefined")&&(e=r,i=n)}return i}snap(){let e=this.closest();this.select(e)}off(e){window.TouchEvent&&e instanceof window.TouchEvent&&e.stopPropagation(),this.snap(),this.isDragging=!1,this.offX=this.parsePercent(this.currentX),this.rootElement.classList.remove("is-grabbing"),this.onX=0,this.onY=0,this.rAF===null&&this.requestAnimationFrame()}toPercent(e){return e/this.viewportWidth*100}setCurrentX(e){this.currentX=this.toPercent(e);let i=this.toPercent(this.maxX),s=this.toPercent(this.minX);this.currentX=Math.min(Math.max(this.currentX,i),s)}select(e){this.lastIndex=this.index,this.index=Math.min(Math.max(e,0),this.slideLen-1),this.setCurrentX(-this.index*this.width),this.setActiveDot(),this.setHeight(),this.rAF===null&&this.requestAnimationFrame()}run(){this.requestAnimationFrame();let e=Math.floor(Math.abs(this.lastX)*100)/100,i=Math.floor(Math.abs(this.currentX)*100)/100;console.log("Carousel is Running"),Math.abs(e-i)>0?(!this.isScrolling&&!this.snapOnce&&(this.snap(),this.snapOnce=!0),this.viewport.style.transform=`translate3d(${this.lastX}%, 0, 0)`):(this.cancelAnimationFrame(),e=void 0,i=void 0),this.isScrolling=!1,this.lastX=Pt(this.lastX,this.currentX,this.ease)}requestAnimationFrame(){this.rAF=window.requestAnimationFrame(this.run)}initEvents(){this.emitter.on("BEFORE_TRANSITION_OUT",this.removeCarouselEvents,this),this.emitter.on("CONTENT_REPLACED",this.init,this)}addCarouselEvents(){this.run(),this.nextBtn.addEventListener("click",this.next,!1),this.prevBtn.addEventListener("click",this.prev,!1),this.dotContainer.addEventListener("click",this.dotClick,!1),this.rootElement.addEventListener("mousedown",this.on,{passive:!0}),window.addEventListener("mousemove",this.setPos,{passive:!0}),window.addEventListener("mouseup",this.off,{passive:!0}),this.rootElement.addEventListener("touchstart",this.on,{passive:!0}),window.addEventListener("touchmove",this.setPos,{passive:!0}),window.addEventListener("touchend",this.off,{passive:!0}),this.rootElement.addEventListener("wheel",this.scroll,{passive:!1}),window.addEventListener("keydown",this.keypress,!1),window.addEventListener("resize",this.resize,{passive:!0})}removeCarouselEvents(){this.rootElement&&(this.cancelAnimationFrame(),this.nextBtn.removeEventListener("click",this.next),this.prevBtn.removeEventListener("click",this.prev),this.dotContainer.removeEventListener("click",this.dotClick),this.rootElement.removeEventListener("mousedown",this.on),window.removeEventListener("mousemove",this.setPos),window.removeEventListener("mouseup",this.off),this.rootElement.removeEventListener("touchstart",this.on),window.removeEventListener("touchmove",this.setPos),window.removeEventListener("touchend",this.off),this.rootElement.removeEventListener("wheel",this.scroll),window.removeEventListener("keydown",this.keypress),window.removeEventListener("resize",this.resize),this.rootElement=void 0,console.log("Remove Carousel Events"))}keypress(e){e.code==="ArrowRight"&&this.next(),e.code==="ArrowLeft"&&this.prev()}scroll(e){if(this.isScrolling=!0,this.snapOnce=!1,!this.isDragging){let{deltaX:i}=e,s=this.parsePercent(this.currentX);this.setCurrentX(s-i*this.speed),Math.abs(i)>0&&e.preventDefault(),this.rAF===null&&this.requestAnimationFrame()}}dotClick(e){let i=e.target;if(i.classList&&i.classList.contains("carousel-dot")){let s=+i.getAttribute("data-index");this.select(s)}}prev(){this.select(this.index-1)}next(){this.select(this.index+1)}cancelAnimationFrame(){window.cancelAnimationFrame(this.rAF),this.rAF=null}stopEvents(){this.removeCarouselEvents(),this.emitter.off("BEFORE_TRANSITION_OUT",this.removeCarouselEvents,this),this.emitter.off("CONTENT_REPLACED",this.init,this)}uninstall(){this.container=void 0,this.viewport=void 0,this.slides=void 0,this.carouselBtn=void 0,this.prevBtn=void 0,this.nextBtn=void 0,this.dotContainer=void 0,this.dots=void 0,this.dot=void 0,this.slideLen=0,this.center=0,this.viewportWidth=0,this.currentX=0,this.width=0,this.index=0,this.lastIndex=0,this.lastX=0,this.maxX=0,this.minX=0,this.offX=0,this.onX=0,this.onY=0,this.snapOnce=!1,this.isDragging=!1,this.isScrolling=!1,this.waitForResize=!1,this.rootElement=void 0}resize(){if(!this.waitForResize){let e;this.waitForResize=!0,requestAnimationFrame(()=>{this.setBounds(),e=window.setTimeout(()=>{this.waitForResize=!1,e=window.clearTimeout(e)},500)})}}},D={name:"default",duration:350,scrollable:!0,out({from:t,trigger:e}){let{duration:i}=this,s=t.wrapper;return P({target:s,keyframes:[{transform:"translateY(0)",opacity:1},{opacity:0,transform:`translateY(${window.scrollY>100&&!/back|popstate|forward/.test(e)?100:0}px)`}],easing:"out",duration:i})},in({to:t,scroll:e}){let{duration:i}=this,s=t.wrapper;return window.scroll(e.x,e.y),P({target:s,opacity:[0,1],easing:"in",duration:i})}},kt=new tt;kt.set("HistoryManager",new G).set("PageManager",new J).set("TransitionManager",new Z([[D.name,D]])).set("PJAX",new et).add(new C).add(new _).set("Navbar",new O).add(new I);try{let t=document.querySelector(".navbar"),e=t.getBoundingClientRect().height,i,s,n,r,a,o,h=!1,l=()=>{h||(h=!0,requestAnimationFrame(()=>{window.scrollY+e>=n?t.classList.add("focus"):t.classList.remove("focus"),h=!1}))},A=()=>{window.scroll({top:0,behavior:"smooth"})},f=()=>{r&&r.scrollIntoView({behavior:"smooth"})},F=()=>{i=g(document.querySelectorAll(".layer")),s=i[0]||null,n=s?s.getBoundingClientRect().top+window.pageYOffset-e/4:0,t.classList.remove("active"),l();let{pathname:E}=window.location;/(index(.html)?|\/$)|(services\/+)/g.test(E)?t.classList.add("light"):t.classList.contains("light")&&t.classList.remove("light"),/(about(.html)?)|(services(.html)?$)|(contact(.html)?)/g.test(E)||document.title.includes("404")?t.classList.add("dark"):t.classList.contains("dark")&&t.classList.remove("dark"),a=document.querySelector(".back-to-top"),a&&a.addEventListener("click",A),o=document.querySelector(".scroll-btn"),o&&(r=document.querySelector(".scroll-point"),o.addEventListener("click",f))},X=()=>{for(a&&(a.removeEventListener("click",A),a=void 0),o&&(o.removeEventListener("click",f),o=void 0,r=void 0);i.length;)i.pop();i=void 0,s=void 0,h=!1}}catch(t){console.warn("[App] boot failed,",t)}})();
