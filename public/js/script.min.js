"use strict";function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(t){_defineProperty(e,t,n[t])})}return e}function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var anime=window.anime,Image=window.Image,Promise=window.Promise,Ele=function(){function n(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n),this.ele=_toConsumableArray(document.querySelectorAll(t)),this.sel=t,this.opt=e}return _createClass(n,[{key:"x",value:function(t){return this.clientRect(t).x}},{key:"y",value:function(t){return this.clientRect(t).y}},{key:"width",value:function(t){return this.clientRect(t).width}},{key:"height",value:function(t){return this.clientRect(t).height}},{key:"clientRect",value:function(t){return t.getBoundingClientRect()}},{key:"each",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.ele.forEach(t,this),this}},{key:"map",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.ele.map(t,this)}},{key:"style",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(t.style,e),this}},{key:"parents",value:function(i){var r=window.Node.ELEMENT_NODE;return this.map(function(t){for(var e=[],n=t;null!==(n=n.parentElement);)n.nodeType==r&&n.matches(i)&&e.push(n);return e})}},{key:"animate",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return anime(_objectSpread({targets:this.sel},t)),this}},{key:"click",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t){t.addEventListener("click",e.bind(this))},this)}},{key:"hover",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t){t.addEventListener("mouseover",e.bind(this))},this)}},{key:"mousemove",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t){t.addEventListener("mousemove",e.bind(this))},this)}},{key:"intersect",value:function(t,e){return this.x(t)<this.x(e)+this.width(e)&&this.x(e)<this.x(t)+this.width(t)&&this.y(t)<this.y(e)+this.height(e)&&this.y(e)<this.y(t)+this.height(t)}}]),n}(),View=function(t){function i(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"body",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(e=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,t,{}))).breakpoints=n,e.each(function(t){return e.responsive(t)}),e}return _inherits(i,Ele),_createClass(i,[{key:"x",value:function(t){return t.scrollLeft}},{key:"y",value:function(t){return t.scrollTop}},{key:"responsive",value:function(t){var n=this.width(t),e=Object.keys(this.breakpoints);return e.length&&e.forEach(function(t){var e="".concat(n).concat(t.replace(/&&|\|\|/g,"$& ".concat(n)));Function('"use strict";return ('.concat(e,")"))()&&this.breakpoints[t].call(this,n)},this),this}},{key:"resize",value:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){},r=this.responsive.bind(this);return window.addEventListener("resize",function(){this.each(function(t){return r(t)});for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];i.apply(this,e)}.bind(this)),this}},{key:"ready",value:function(){var t=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return/in/.test(document.readyState)?window.setTimeout(function(){t.ready(e)},9):e.call(this),this}},{key:"click",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t){t.addEventListener("click",e.bind(this))},this)}},{key:"scroll",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t){t.addEventListener("scroll",e.bind(this))},this)}}]),i}(),Perspective=function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".perspec",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e,n)))._viewport={x:function(){return 0},y:function(){return 0}},t.view=new View(t.opt.view),t.viewport(t.opt.viewport),t}return _inherits(i,Ele),_createClass(i,[{key:"viewport",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this._viewport,t),this}},{key:"init",value:function(){if(this.ele.length){var t=function(n){var i=this;this.each(function(t,e){i.style(t,{transform:"translate(\n                            ".concat(i._viewport.x(n,i,t),",\n                            ").concat(i._viewport.y(n,i,t),"\n                        )").trim()})})}.bind(this);this.view.mousemove(t),t({clientX:0,clientY:0})}}}],[{key:"axis",value:function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"x",a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:20,s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;return"function"==typeof r?r:function(t,e,n){var i=(t["client".concat(o.toUpperCase())]-e[o](n))/a;return"".concat("all"==r?i:Math[r](i,s),"px")}}}]),i}(),Navbar=function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".navbar",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e,n))).container=new Ele(t.opt.container),t.toggleClass=t.opt.toggleClass,t.focus=new Ele(t.opt.focus),t.foot=new Ele(t.opt.foot),t.link=new Ele(t.opt.link),t}return _inherits(i,Ele),_createClass(i,[{key:"select",value:function(){var i=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;return this.link.hover(function(t){var e=t.target.offsetWidth-r,n=t.target.offsetLeft+r/2;i.focus.each(function(t){this.style(t,{width:"".concat(e,"px"),left:"".concat(n,"px")})})}),this}},{key:"toggle",value:function(e){var n=this;return this.foot.click(function(t){n.container.each(function(t){t.classList.toggle(e)})}),this}}]),i}(),Sidebar=function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".sidebar",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e,n))).list=new Ele("".concat(t.sel," ").concat(t.opt.list)),t.link=new Ele("".concat(t.list.sel," ").concat(t.opt.link)),t}return _inherits(i,Navbar),_createClass(i,[{key:"mobile",value:function(){var n=this;return this.link.each(function(t,e){t.textContent=n.list.ele[e].getAttribute("title")}),this}},{key:"init",value:function(){var r=this;return this.list.each(function(e,t){var n=r.link.ele[t],i=n.textContent;e.addEventListener("mouseover",function(t){n.textContent=e.getAttribute("title")}),e.addEventListener("mouseout",function(t){n.textContent=i})}),this}}]),i}(),Img=function(t){function i(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"load-img",n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e,n))).src=t.opt.src||"src",t.alt=t.opt.alt||"alt",t.path=t.opt.path||"",t.run=t.opt.run||!1,t.class=t.opt.class||"",t.promise=[],t}return _inherits(i,Ele),_createClass(i,[{key:"init",value:function(t,e,n){var i=n.getAttribute(this.src),r=n.getAttribute(this.alt),o=n.className,a=new Image;return a.src=this.path+i,a.onload=function(){t([n,a,i,r,o])},a.onerror=function(t){e(t)},this}},{key:"start",value:function(){var a=this;return this.ele.length&&(this.each(function(n,t){var e=n.getAttribute(a.src);a.promise[t]=e.includes("<%")?{}:new Promise(function(t,e){this.init.call(this,t,e,n)}.bind(a))}),this.load(function(t){var e=_slicedToArray(t,5),n=e[0],i=e[1],r=(e[2],e[3]),o=e[4];i.setAttribute("alt",r),i.classList.add(a.sel),o&&i.classList.add(o),n.insertAdjacentElement("beforebegin",i),n.remove()}),this.err(function(t){console.log("One of the images didn't load: ".concat(t.message))})),this}},{key:"load",value:function(){var i=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t,e){var n=i.promise[e];n.then&&n.then(r.bind(i))}),this}},{key:"err",value:function(){var i=this,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){};return this.each(function(t,e){var n=i.promise[e];n.catch&&n.catch(r.bind(i))}),this}}]),i}(),axis=Perspective.axis,layers=new Ele(".navbar, .navbar-menu, .social-sidebar li, .copyright-bar"),scrollSnap=new Ele(".scroll-snap"),downBtn=new Ele(".next-layer"),upBtn=new Ele(".top-layer"),navbar=new Navbar(".navbar",{toggleClass:"mobile-on",focus:".navbar-select",link:".navbar-link",foot:".navbar-foot",container:"header"}),socialSidebar=new Sidebar(".social-sidebar",{list:"li",link:"a"}),img=new Img("load-img"),view=new View("body",{" < 650":function(){socialSidebar.mobile(),new Perspective(".perspec-head, .perspec-sidebar, .perspec-img",{viewport:{x:axis(function(){return"0px"}),y:axis(function(){return"0px"})},view:this.sel}).init()}," >= 650":function(){navbar.select(100),socialSidebar.init(),new Perspective(".perspec-head",{viewport:{x:axis("max","x",20,-20),y:axis(function(t){return"".concat(-t.clientY/20,"px")})},view:this.sel}).init(),new Perspective(".perspec-sidebar",{viewport:{x:axis("min","x",10,-10),y:axis("min","y",-20,10)},view:this.sel}).init(),new Perspective(".perspec-img",{viewport:{x:axis("min","x",13,20),y:axis(function(){var t=axis("max","y",12,0).apply(void 0,arguments);return"calc(-50% + ".concat(t,")")})},view:this.sel}).init()}});navbar.toggle(navbar.toggleClass),view.resize().scroll(function(t){layers.each(function(e){var n;scrollSnap.each(function(t){layers.intersect(e,t)&&"nav-bright"===(n=t.classList.contains("bright-layer")?"":"nav-bright")&&e.classList.add(n),"nav-bright"!==n&&e.classList.remove("nav-bright")})})}).ready(function(){downBtn.ele.length&&downBtn.each(function(t,i){t.addEventListener("click",function(t){t.preventDefault();var e=Math.min(i+1,scrollSnap.ele.length-1),n=scrollSnap.ele[e];view.animate({scrollTop:scrollSnap.y(n),easing:"easeInOutQuad",duration:600})})}),upBtn.ele.length&&upBtn.click(function(t){t.preventDefault(),view.animate({easing:"easeInOutQuad",duration:1e3,scrollTop:0})}),img.start()});
//# sourceMappingURL=script.min.js.map
