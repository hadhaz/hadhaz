{"version":3,"sources":["script.js"],"names":["anime","window","Image","Promise","Ele","sel","opt","arguments","length","undefined","_classCallCheck","this","ele","_toConsumableArray","document","querySelectorAll","el","clientRect","x","y","width","height","getBoundingClientRect","fn","forEach","map","css","Object","assign","style","eleNode","Node","ELEMENT_NODE","elems","parent","parentElement","nodeType","matches","push","_objectSpread","each","addEventListener","bind","$this","View","_this","breakpoints","_possibleConstructorReturn","_getPrototypeOf","call","scrollLeft","scrollTop","wid","keys","v","val","concat","replace","responsive","_len","args","Array","_key","_this2","test","readyState","setTimeout","ready","Perspective","_this3","_viewport","view","viewport","port","e","_this4","i","transform","trim","clientX","clientY","type","axis","rate","limit","all","Math","Navbar","_this5","container","toggleClass","focus","foot","link","_this6","offset","hover","target","offsetWidth","pos","offsetLeft","left","$class","_this7","click","classList","toggle","Sidebar","_this8","list","_this9","textContent","getAttribute","_this10","Function","txt","Img","_this11","src","alt","path","run","promise","reject","_class","className","img","onload","resolve","onerror","_this12","includes","init","load","_args","_slicedToArray","setAttribute","add","insertAdjacentElement","remove","err","console","log","message","_this13","then","_this14","layers","scrollSnap","downBtn","upBtn","socialSidebar"," < 650","mobile"," >= 650","navbar","apply","scroll","snap","intersect","contains","preventDefault","min","next","animate","easing","duration","start"],"mappings":"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","file":"script.min.js","sourcesContent":["let anime = window.anime; // animejs\nlet Image = window.Image; // Image\nlet Promise = window.Promise; // Promise\n// Element Object\nclass Ele {\n    constructor(sel, opt = {}) {\n        this.ele = [...document.querySelectorAll(sel)]; // Element\n        this.sel = sel; // Selector\n        this.opt = opt; // Options\n    }\n    x(el) { return this.clientRect(el).x; }\n    y(el) { return this.clientRect(el).y; }\n    width(el) { return this.clientRect(el).width; }\n    height(el) { return this.clientRect(el).height; }\n    clientRect(el) { return el.getBoundingClientRect(); }\n    each(fn = () => {}) {\n        this.ele.forEach(fn, this);\n        return this;\n    }\n    map(fn = () => {}) {\n        return this.ele.map(fn, this);\n    }\n    style(ele, css = {}) {\n        Object.assign(ele.style, css);\n        return this;\n    }\n    parents(sel) {\n        var eleNode = window.Node.ELEMENT_NODE;\n        return this.map(function(el) {\n            var elems = [], parent = el;\n            while ((parent = parent.parentElement) !== null) {\n                if (parent.nodeType == eleNode && parent.matches(sel)) {\n                    elems.push(parent);\n                }\n            }\n            return elems;\n        });\n    }\n    animate(opt = {}) {\n        anime({\n            targets: this.sel,\n            ...opt\n        });\n        return this;\n    }\n    click(fn = () => {}) {\n        return this.each(function(ele) {\n            ele.addEventListener(\"click\", fn.bind(this));\n        }, this);\n    }\n    hover(fn = () => {}) {\n        return this.each(function(ele) {\n            ele.addEventListener(\"mouseover\", fn.bind(this));\n        }, this);\n    }\n    mousemove(fn = () => {}) {\n        return this.each(function(ele) {\n            ele.addEventListener(\"mousemove\", fn.bind(this));\n        }, this);\n    }\n    intersect($this, el) {\n        return (\n            this.x($this) < this.x(el) + this.width(el) &&\n            this.x(el) < this.x($this) + this.width($this) &&\n            this.y($this) < this.y(el) + this.height(el) &&\n            this.y(el) < this.y($this) + this.height($this)\n        );\n    }\n}\n\n// Viewport Object\nclass View extends Ele {\n    constructor(sel = \"body\", breakpoints = {}) {\n        super(sel, {});\n        this.breakpoints = breakpoints;\n        this.each(el => this.responsive(el));\n    }\n    x(el) { return el.scrollLeft; }\n    y(el) { return el.scrollTop; }\n    responsive(el) {\n        let wid = this.width(el);\n        let breakpoints = Object.keys(this.breakpoints);\n        if (breakpoints.length) {\n            breakpoints.forEach(function(v) {\n                let val = `${wid}${v.replace(/&&|\\|\\|/g, `$& ${wid}`)}`;\n                if (Function(`\"use strict\";return (${val})`)()) {\n                    this.breakpoints[v].call(this, wid);\n                }\n            }, this);\n        }\n        return this;\n    }\n    resize(fn = () => {}) {\n        let breakpoints = this.responsive.bind(this);\n        window.addEventListener(\n            \"resize\",\n            function(...args) {\n                this.each(el => breakpoints(el));\n                fn.apply(this, args);\n            }.bind(this)\n        );\n        return this;\n    }\n    ready(fn = () => {}) {\n        // Checking the document.readyState property. If it contains the string in (as in uninitialized and loading) set a timeout and check again. Otherwise, execute function. [stackoverflow.com/a/30319853]\n        if (/in/.test(document.readyState)) {\n            window.setTimeout(() => { this.ready(fn); }, 9);\n        } else { fn.call(this); }\n        return this;\n    }\n    click(fn = () => {}) {\n        return this.each(function(ele) {\n            ele.addEventListener(\"click\", fn.bind(this));\n        }, this);\n    }\n    scroll(fn = () => {}) {\n        return this.each(function(ele) {\n            ele.addEventListener(\"scroll\", fn.bind(this));\n        }, this);\n    }\n}\n\n// Perspective  Object\nclass Perspective extends Ele {\n    constructor(sel = \".perspec\", opt = {}) {\n        super(sel, opt);\n        this._viewport = { x: () => 0, y: () => 0 };\n        this.view = new View(this.opt.view);\n        this.viewport(this.opt.viewport);\n    }\n    viewport(port = {}) {\n        Object.assign(this._viewport, port);\n        return this;\n    }\n    init() {\n        if (this.ele.length) {\n            let style = function(e) {\n                this.each((el, i) => {\n                    this.style(el, {\n                        transform: `translate(\n                            ${this._viewport.x(e, this, el)},\n                            ${this._viewport.y(e, this, el)}\n                        )`.trim()\n                    });\n                });\n            }.bind(this);\n            this.view.mousemove(style);\n            style({ clientX: 0, clientY: 0 });\n        }\n    }\n    static axis(type, axis = \"x\", rate = 20, limit = 0) {\n        return typeof type == \"function\"\n            ? type\n            : (e, $this, el) => {\n                  let all = (e[`client${axis.toUpperCase()}`] - $this[axis](el)) / rate;\n                  return `${(type == \"all\" ? all : Math[type](all, limit))}px`;\n              };\n    }\n}\n\n// Navbar Object\nclass Navbar extends Ele {\n    constructor(sel = \".navbar\", opt = {}) {\n        super(sel, opt);\n        this.container = new Ele(this.opt.container);\n        this.toggleClass = this.opt.toggleClass;\n        this.focus = new Ele(this.opt.focus);\n        this.foot = new Ele(this.opt.foot);\n        this.link = new Ele(this.opt.link);\n    }\n    select(offset = 100) {\n        this.link.hover(e => {\n            let wid = e.target.offsetWidth - offset;\n            let pos = e.target.offsetLeft + (offset / 2);\n            this.focus.each(function (ele) {\n                this.style(ele, { \n                    width: `${wid}px`,\n                    left: `${pos}px`\n                });\n            });\n        });\n        return this;\n    }\n    toggle($class) {\n        this.foot.click(e => {\n            this.container.each(el => {\n                el.classList.toggle($class);\n            });\n        });\n        return this;\n    }\n}\n\n// Sidebar Object\nclass Sidebar extends Navbar {\n    constructor(sel = \".sidebar\", opt = {}) {\n        super(sel, opt);\n        this.list = new Ele(`${this.sel} ${this.opt.list}`);\n        this.link = new Ele(`${this.list.sel} ${this.opt.link}`);\n    }\n    mobile() {\n        this.link.each((el, i) => {\n            el.textContent = this.list.ele[i].getAttribute(\"title\");\n        });\n        return this;\n    }\n    init() {\n        this.list.each((el, i) => {\n            let link = this.link.ele[i];\n            let txt = link.textContent;\n            el.addEventListener(\"mouseover\", e => {\n                link.textContent = el.getAttribute(\"title\");\n            });\n            \n            el.addEventListener(\"mouseout\", e => {\n                link.textContent = txt;\n            });\n        });\n        return this;\n    }\n}\n\n// Img Object\nclass Img extends Ele {\n    constructor(sel = \"load-img\", opt = {}) {\n        super(sel, opt);\n        this.src = this.opt.src || \"src\";\n        this.alt = this.opt.alt || \"alt\";\n        this.path = this.opt.path || \"\";\n        this.run = this.opt.run || false;\n        this.class = this.opt.class || \"\";\n        this.promise = [];\n    }\n    init(resolve, reject, el) {\n        let src = el.getAttribute(this.src);\n        let alt = el.getAttribute(this.alt);\n        let _class = el.className;\n        \n        let img = new Image();\n        img.src = this.path + src;\n        img.onload = () => {\n            resolve([el, img, src, alt, _class]);\n        };\n\n        img.onerror = e => { reject(e); };\n        return this;\n    }\n    start() { \n        if (this.ele.length) {\n            this.each((el, i) => {\n                let src = el.getAttribute(this.src);\n                this.promise[i] = src.includes(\"<%\") ? {} : new Promise(function (resolve, reject) {\n                    this.init.call(this, resolve, reject, el);\n                }.bind(this));\n            });\n            \n            this.load(args => {\n                let [el, img, src, alt, _class] = args;\n                img.setAttribute(\"alt\", alt);\n                img.classList.add(this.sel);\n                _class && img.classList.add(_class);\n                el.insertAdjacentElement('beforebegin', img);\n                el.remove();\n            });\n\n            this.err(e => {\n                console.log(`One of the images didn't load: ${e.message}`);\n            });\n        }\n        return this; \n    }\n    load(fn = () => {}) { \n        this.each((el, i) => {\n            let promise = this.promise[i];\n            promise.then && promise.then(fn.bind(this));\n        });\n        return this; \n    }\n    err(fn = () => {}) { \n        this.each((el, i) => {\n            let promise = this.promise[i];\n            promise.catch && promise.catch(fn.bind(this)); \n        });\n        return this; \n    }\n}\n\nlet axis = Perspective.axis;\nlet layers = new Ele(\".navbar, .navbar-menu, .social-sidebar li, .copyright-bar\");\nlet scrollSnap = new Ele(\".scroll-snap\");\nlet downBtn = new Ele(\".next-layer\");\nlet upBtn = new Ele(\".top-layer\");\nlet navbar = new Navbar(\".navbar\", {\n    toggleClass: \"mobile-on\",\n    focus: \".navbar-select\",\n    link: \".navbar-link\",\n    foot: \".navbar-foot\",\n    container: \"header\"\n});\n\nlet socialSidebar = new Sidebar(\".social-sidebar\", {\n    list: \"li\", link: \"a\"\n});\n\nlet img = new Img(\"load-img\");\nlet view = new View(\"body\", {\n    \" < 650\": function () {\n        socialSidebar.mobile();\n        new Perspective(\".perspec-head, .perspec-sidebar, .perspec-img\", {\n            viewport: {\n                x: axis(() => `0px`),\n                y: axis(() => `0px`)\n            },\n            view: this.sel\n        }).init();\n    },\n    \" >= 650\": function() {\n        navbar.select(100);\n        socialSidebar.init();\n        new Perspective(\".perspec-head\", {\n            viewport: {\n                x: axis(\"max\", \"x\", 20, -20),\n                y: axis(e => {\n                    return `${-e.clientY / 20}px`;\n                })\n            },\n            view: this.sel\n        }).init();\n        \n        new Perspective(\".perspec-sidebar\", {\n            viewport: {\n                x: axis(\"min\", \"x\", 10, -10),\n                y: axis(\"min\", \"y\", -20, 10)\n            },\n            view: this.sel\n        }).init();\n        \n        new Perspective(\".perspec-img\", {\n            viewport: {\n                x: axis(\"min\", \"x\", 13, 20),\n                y: axis((...args) => {\n                    let val = axis(\"max\", \"y\", 12, 0)(...args);\n                    return `calc(-50% + ${val})`;\n                })\n            },\n            view: this.sel\n        }).init();\n    }\n});\n\nnavbar.toggle(navbar.toggleClass);\n\nview.resize()\n    .scroll(e => {\n        layers.each(el => {\n            let type;\n            scrollSnap.each((snap) => {\n                if (layers.intersect(el, snap)) {\n                    type = snap.classList.contains(\"bright-layer\") ? \"\" : \"nav-bright\";\n                    (type === \"nav-bright\" && el.classList.add(type));\n                }\n\n                (type !== \"nav-bright\" && el.classList.remove(\"nav-bright\"));\n            });\n        });\n    })\n    .ready(() => {\n        if (downBtn.ele.length) {\n            // When clicked goes down to the next layer that scrolling can snap too (\".scroll-snap\" class)\n            downBtn.each((el, i) => {\n                el.addEventListener(\"click\", e => {\n                    e.preventDefault();\n                    let limit = Math.min(i + 1, scrollSnap.ele.length - 1);\n                    let next = scrollSnap.ele[limit];\n                    view.animate({ \n                        scrollTop: scrollSnap.y(next),\n                        easing: \"easeInOutQuad\",\n                        duration: 600\n                    });\n                });\n            });\n        }\n    \n        if (upBtn.ele.length) {\n            // When clicked sends the user back to the top\n            upBtn.click(e => {\n                e.preventDefault();\n                view.animate({ \n                    easing: \"easeInOutQuad\",\n                    duration: 1000, \n                    scrollTop: 0\n                });\n            });\n        }\n    \n        img.start();\n    });\n"]}