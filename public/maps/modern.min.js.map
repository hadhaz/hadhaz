{"version":3,"sources":["node_modules/swup/node_modules/delegate/src/closest.js","node_modules/swup/node_modules/delegate/src/delegate.js","node_modules/swup/lib/modules/Cache.js","node_modules/swup/lib/helpers/classify.js","node_modules/swup/lib/helpers/createHistoryRecord.js","node_modules/swup/lib/utils/index.js","node_modules/swup/lib/helpers/getDataFromHtml.js","node_modules/swup/lib/helpers/fetch.js","node_modules/swup/lib/helpers/transitionEnd.js","node_modules/swup/lib/helpers/getCurrentUrl.js","node_modules/swup/lib/helpers/markSwupElements.js","node_modules/swup/lib/helpers/Link.js","node_modules/swup/lib/helpers/index.js","node_modules/swup/lib/modules/loadPage.js","node_modules/swup/lib/modules/renderPage.js","node_modules/swup/lib/modules/triggerEvent.js","node_modules/swup/lib/modules/on.js","node_modules/swup/lib/modules/off.js","node_modules/swup/lib/modules/updateTransition.js","node_modules/swup/lib/modules/getAnimationPromises.js","node_modules/swup/lib/modules/getPageData.js","node_modules/swup/lib/modules/plugins.js","node_modules/swup/lib/index.js","node_modules/@swup/plugin/lib/index.js","node_modules/@swup/head-plugin/lib/index.js","node_modules/scrl/lib/index.js","node_modules/@swup/scroll-plugin/lib/index.js","src/js/components/util.js","src/js/components/ele.js","src/js/components/dom.js","node_modules/delegate/src/closest.js","node_modules/delegate/src/delegate.js","src/js/app.js"],"names":["Element","prototype","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","selector","nodeType","parentNode","listener","type","callback","e","delegateTarget","closest","target","call","useCapture","listenerFn","apply","this","arguments","addEventListener","destroy","removeEventListener","Object","defineProperty","exports","value","_createClass","defineProperties","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","Cache","instance","TypeError","_classCallCheck","pages","last","page","url","swup","log","keys","getPage","window","location","pathname","search","text","output","toString","toLowerCase","replace","splice","history","pushState","href","split","hostname","random","Math","source","document","getElementsByTagName","innerText","context","undefined","querySelector","Array","slice","querySelectorAll","_typeof","Symbol","iterator","obj","constructor","html","containers","fakeDom","createElement","innerHTML","blocks","_loop","v","_utils","queryAll","forEach","item","index","setAttribute","push","outerHTML","_ret","json","title","pageClass","className","originalContent","_extends","assign","hasOwnProperty","setOptions","defaults","method","data","headers","options","request","XMLHttpRequest","onreadystatechange","readyState","open","setRequestHeader","send","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","name","style","console","warn","Link","elementOrUrl","SVGElement","link","path","getAttribute","hash","_classify2","_interopRequireDefault","_classify","_createHistoryRecord2","_createHistoryRecord","_getDataFromHtml2","_getDataFromHtml","_fetch2","_fetch","_transitionEnd2","_transitionEnd","_getCurrentUrl2","_getCurrentUrl","_markSwupElements2","_markSwupElements","_Link2","_Link","__esModule","default","popstate","_this","animationPromises","xhrPromise","triggerEvent","customTransition","updateTransition","documentElement","classList","add","_helpers","classify","animateHistoryBrowsing","getAnimationPromises","Promise","all","then","createHistoryRecord","scrollToElement","animateOut","cache","exists","resolve","preloadPromise","route","reject","fetch","requestHeaders","response","status","getPageData","cacheUrl","concat","renderPage","catch","errorUrl","skipPopStateHandling","go","remove","responseURL","getPath","replaceState","body","empty","setTimeout","classItem","RegExp","test","eventName","originalEvent","_handlers","handler","error","event","CustomEvent","detail","dispatchEvent","filter","savedHandler","toRemove","indexOf","from","to","custom","promises","animationSelector","promise","transitionEnd","pageObject","getDataFromHtml","responseText","plugin","isSwupPlugin","plugins","_beforeMount","mount","pluginReference","find","p","unmount","_afterUnmount","pluginName","_delegate2","_delegate","_Cache2","_Cache","_loadPage2","_loadPage","_renderPage2","_renderPage","_triggerEvent2","_triggerEvent","_on2","_on","_off2","_off","_updateTransition2","_updateTransition","_getAnimationPromises2","_getAnimationPromises","_getPageData2","_getPageData","Swup","linkSelector","origin","Accept","state","animationInDone","animationInStart","animationOutDone","animationOutStart","animationSkipped","clickLink","contentReplaced","disabled","enabled","openPageInNewTab","pageLoaded","pageRetrievedFromCache","pageView","popState","samePage","samePageWithHash","serverError","transitionStart","willReplaceContent","delegatedListeners","boundPopStateHandler","popStateHandler","bind","loadPage","on","off","use","_plugins","unuse","findPlugin","enable","click","linkClickHandler","getCurrentUrl","markSwupElements","_this2","removeAttribute","metaKey","ctrlKey","shiftKey","altKey","button","preventDefault","getAddress","getHash","Plugin","_possibleConstructorReturn","self","ReferenceError","HeadPlugin","_Plugin","_ref","_temp","_len","args","_key","__proto__","getPrototypeOf","getHeadAndReplace","headChildren","getHeadChildren","nextHeadChildren","getNextHeadChildren","replaceTags","head","children","pageContent","getCurrentPage","oldTags","newTags","themeActive","Boolean","addTags","getTagsToAdd","removeTags","getTagsToRemove","reverse","removeChild","tag","insertBefore","compareTags","oldTag","newTag","foundAt","j","subClass","superClass","create","setPrototypeOf","_inherits","_plugin","Scrl","_raf","_positionY","_velocityY","_targetPositionY","_targetPositionYWithOffset","_direction","scrollTo","offset","round","getBoundingClientRect","top","pageYOffset","parseInt","scrollHeight","innerHeight","scrollTop","onStart","_animate","onAlreadyAtPositions","_update","_render","requestAnimationFrame","onTick","onEnd","distance","acceleration","friction","abs","onCancel","cancelAnimationFrame","passive","_plugin2","_scrl2","_scrl","ScrollPlugin","onSamePage","onSamePageWithHash","onTransitionStart","doScrollingRightAway","doScrolling","onContentReplaced","animateScroll","scrollFriction","scrollAcceleration","scrollDone","scrollStart","scrl","scrollRestoration","isArray","_constrain","a","b","_map","t","n","r","_is","val","_isInst","ctor","_type","Document","arrlike","len","usable","num","isNaN","not","doc","def","undef","win","bool","fn","null","str","nul","inst","arr","ele","toFixed","digits","pow","_fnval","ctxt","tagRE","tagExpandRE","_qsa","dom","sel","classes","_dom","HTMLCollection","charAt","getElementById","substr","getElementsByClassName","_elem","trim","container","childNodes","_createElem","NodeList","get","_el","idx","_concat","map","toArray","each","matchSel","_matches","_contains","parent","node","contains","result","some","_cssNumber","_maybeAddPx","includes","prop","css","getComputedStyle","getPropertyValue","computedStyle","_prop","removeProperty","cssText","_size","sz","toUpperCase","_offset","$$el","$el","width","height","_setAttr","attr","coords","$this","_coords","parentOffset","offsetParent","left","position","pageXOffset","scrollLeft","classcache","_classRE","getclass","svg","baseVal","hasClass","addClass","cls","_name","join","removeClass","toggleClass","when","nodeName","dur","ease","scroll","start","change","time","$ease","startTime","performance","now","newTime","opts","noop","capture","elems","events","scope","elem","elements","customPreload","pagePreloaded","hoverLink","preloadPage","preloadPages","mouseover","delegate","onMouseover","finally","debugMode","_scrolldown","heroHeight","setTheme","getTheme","matchMedia","themeGet","themeAttr","themeSet","theme","addListener","windowWid","resize","_focusPt","_images","Set","srcset","src","_core_img","srcWid","load_img","isModern","$img","$load_img","WebpSupport","_isMobile","_scrollTop","hasScroll","scrollX","isBanner","dist","maxMove","transform","opacity","clientRect","overlay","isHero","_isBanner","header","main","goDown","init","layer_image","_isbanner","clear","$layer","headPlugin","scrollPlugin","_link","currentTarget","message"],"mappings":"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","file":"../js/modern.min.js","sourcesContent":["var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = exports.Cache = function () {\n\tfunction Cache() {\n\t\t_classCallCheck(this, Cache);\n\n\t\tthis.pages = {};\n\t\tthis.last = null;\n\t}\n\n\t_createClass(Cache, [{\n\t\tkey: 'cacheUrl',\n\t\tvalue: function cacheUrl(page) {\n\t\t\tif (page.url in this.pages === false) {\n\t\t\t\tthis.pages[page.url] = page;\n\t\t\t}\n\t\t\tthis.last = this.pages[page.url];\n\t\t\tthis.swup.log('Cache (' + Object.keys(this.pages).length + ')', this.pages);\n\t\t}\n\t}, {\n\t\tkey: 'getPage',\n\t\tvalue: function getPage(url) {\n\t\t\treturn this.pages[url];\n\t\t}\n\t}, {\n\t\tkey: 'getCurrentPage',\n\t\tvalue: function getCurrentPage() {\n\t\t\treturn this.getPage(window.location.pathname + window.location.search);\n\t\t}\n\t}, {\n\t\tkey: 'exists',\n\t\tvalue: function exists(url) {\n\t\t\treturn url in this.pages;\n\t\t}\n\t}, {\n\t\tkey: 'empty',\n\t\tvalue: function empty() {\n\t\t\tthis.pages = {};\n\t\t\tthis.last = null;\n\t\t\tthis.swup.log('Cache cleared');\n\t\t}\n\t}, {\n\t\tkey: 'remove',\n\t\tvalue: function remove(url) {\n\t\t\tdelete this.pages[url];\n\t\t}\n\t}]);\n\n\treturn Cache;\n}();\n\nexports.default = Cache;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar classify = function classify(text) {\n\tvar output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n\t.replace(/\\//g, '-') // Replace / with -\n\t.replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n\t.replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n\t.replace(/^-+/, '') // Trim - from start of text\n\t.replace(/-+$/, ''); // Trim - from end of text\n\tif (output[0] === '/') output = output.splice(1);\n\tif (output === '') output = 'homepage';\n\treturn output;\n};\n\nexports.default = classify;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar createHistoryRecord = function createHistoryRecord(url) {\n\twindow.history.pushState({\n\t\turl: url || window.location.href.split(window.location.hostname)[1],\n\t\trandom: Math.random(),\n\t\tsource: 'swup'\n\t}, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\n};\n\nexports.default = createHistoryRecord;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar query = exports.query = function query(selector) {\n\tvar context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n\tif (typeof selector !== 'string') {\n\t\treturn selector;\n\t}\n\n\treturn context.querySelector(selector);\n};\n\nvar queryAll = exports.queryAll = function queryAll(selector) {\n\tvar context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n\tif (typeof selector !== 'string') {\n\t\treturn selector;\n\t}\n\n\treturn Array.prototype.slice.call(context.querySelectorAll(selector));\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _utils = require('../utils');\n\nvar getDataFromHtml = function getDataFromHtml(html, containers) {\n\tvar fakeDom = document.createElement('html');\n\tfakeDom.innerHTML = html;\n\tvar blocks = [];\n\n\tvar _loop = function _loop(i) {\n\t\tif (fakeDom.querySelector(containers[i]) == null) {\n\t\t\t// page in invalid\n\t\t\treturn {\n\t\t\t\tv: null\n\t\t\t};\n\t\t} else {\n\t\t\t(0, _utils.queryAll)(containers[i]).forEach(function (item, index) {\n\t\t\t\t(0, _utils.queryAll)(containers[i], fakeDom)[index].setAttribute('data-swup', blocks.length); // marks element with data-swup\n\t\t\t\tblocks.push((0, _utils.queryAll)(containers[i], fakeDom)[index].outerHTML);\n\t\t\t});\n\t\t}\n\t};\n\n\tfor (var i = 0; i < containers.length; i++) {\n\t\tvar _ret = _loop(i);\n\n\t\tif ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === \"object\") return _ret.v;\n\t}\n\n\tvar json = {\n\t\ttitle: fakeDom.querySelector('title').innerText,\n\t\tpageClass: fakeDom.querySelector('body').className,\n\t\toriginalContent: html,\n\t\tblocks: blocks\n\t};\n\n\t// to prevent memory leaks\n\tfakeDom.innerHTML = '';\n\tfakeDom = null;\n\n\treturn json;\n};\n\nexports.default = getDataFromHtml;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fetch = function fetch(setOptions) {\n\tvar callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n\tvar defaults = {\n\t\turl: window.location.pathname + window.location.search,\n\t\tmethod: 'GET',\n\t\tdata: null,\n\t\theaders: {}\n\t};\n\n\tvar options = _extends({}, defaults, setOptions);\n\n\tvar request = new XMLHttpRequest();\n\n\trequest.onreadystatechange = function () {\n\t\tif (request.readyState === 4) {\n\t\t\tif (request.status !== 500) {\n\t\t\t\tcallback(request);\n\t\t\t} else {\n\t\t\t\tcallback(request);\n\t\t\t}\n\t\t}\n\t};\n\n\trequest.open(options.method, options.url, true);\n\tObject.keys(options.headers).forEach(function (key) {\n\t\trequest.setRequestHeader(key, options.headers[key]);\n\t});\n\trequest.send(options.data);\n\treturn request;\n};\n\nexports.default = fetch;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar transitionEnd = function transitionEnd() {\n\tvar el = document.createElement('div');\n\n\tvar transEndEventNames = {\n\t\tWebkitTransition: 'webkitTransitionEnd',\n\t\tMozTransition: 'transitionend',\n\t\tOTransition: 'oTransitionEnd otransitionend',\n\t\ttransition: 'transitionend'\n\t};\n\n\tfor (var name in transEndEventNames) {\n\t\tif (el.style[name] !== undefined) {\n\t\t\treturn transEndEventNames[name];\n\t\t}\n\t}\n\n\treturn false;\n};\n\nexports.default = transitionEnd;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar getCurrentUrl = function getCurrentUrl() {\n\treturn window.location.pathname + window.location.search;\n};\n\nexports.default = getCurrentUrl;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _utils = require('../utils');\n\nvar markSwupElements = function markSwupElements(element, containers) {\n\tvar blocks = 0;\n\n\tvar _loop = function _loop(i) {\n\t\tif (element.querySelector(containers[i]) == null) {\n\t\t\tconsole.warn('Element ' + containers[i] + ' is not in current page.');\n\t\t} else {\n\t\t\t(0, _utils.queryAll)(containers[i]).forEach(function (item, index) {\n\t\t\t\t(0, _utils.queryAll)(containers[i], element)[index].setAttribute('data-swup', blocks);\n\t\t\t\tblocks++;\n\t\t\t});\n\t\t}\n\t};\n\n\tfor (var i = 0; i < containers.length; i++) {\n\t\t_loop(i);\n\t}\n};\n\nexports.default = markSwupElements;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Link = function () {\n\tfunction Link(elementOrUrl) {\n\t\t_classCallCheck(this, Link);\n\n\t\tif (elementOrUrl instanceof Element || elementOrUrl instanceof SVGElement) {\n\t\t\tthis.link = elementOrUrl;\n\t\t} else {\n\t\t\tthis.link = document.createElement('a');\n\t\t\tthis.link.href = elementOrUrl;\n\t\t}\n\t}\n\n\t_createClass(Link, [{\n\t\tkey: 'getPath',\n\t\tvalue: function getPath() {\n\t\t\tvar path = this.link.pathname;\n\t\t\tif (path[0] !== '/') {\n\t\t\t\tpath = '/' + path;\n\t\t\t}\n\t\t\treturn path;\n\t\t}\n\t}, {\n\t\tkey: 'getAddress',\n\t\tvalue: function getAddress() {\n\t\t\tvar path = this.link.pathname + this.link.search;\n\n\t\t\tif (this.link.getAttribute('xlink:href')) {\n\t\t\t\tpath = this.link.getAttribute('xlink:href');\n\t\t\t}\n\n\t\t\tif (path[0] !== '/') {\n\t\t\t\tpath = '/' + path;\n\t\t\t}\n\t\t\treturn path;\n\t\t}\n\t}, {\n\t\tkey: 'getHash',\n\t\tvalue: function getHash() {\n\t\t\treturn this.link.hash;\n\t\t}\n\t}]);\n\n\treturn Link;\n}();\n\nexports.default = Link;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Link = exports.markSwupElements = exports.getCurrentUrl = exports.transitionEnd = exports.fetch = exports.getDataFromHtml = exports.createHistoryRecord = exports.classify = undefined;\n\nvar _classify = require('./classify');\n\nvar _classify2 = _interopRequireDefault(_classify);\n\nvar _createHistoryRecord = require('./createHistoryRecord');\n\nvar _createHistoryRecord2 = _interopRequireDefault(_createHistoryRecord);\n\nvar _getDataFromHtml = require('./getDataFromHtml');\n\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\n\nvar _fetch = require('./fetch');\n\nvar _fetch2 = _interopRequireDefault(_fetch);\n\nvar _transitionEnd = require('./transitionEnd');\n\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\n\nvar _getCurrentUrl = require('./getCurrentUrl');\n\nvar _getCurrentUrl2 = _interopRequireDefault(_getCurrentUrl);\n\nvar _markSwupElements = require('./markSwupElements');\n\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\n\nvar _Link = require('./Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar classify = exports.classify = _classify2.default;\nvar createHistoryRecord = exports.createHistoryRecord = _createHistoryRecord2.default;\nvar getDataFromHtml = exports.getDataFromHtml = _getDataFromHtml2.default;\nvar fetch = exports.fetch = _fetch2.default;\nvar transitionEnd = exports.transitionEnd = _transitionEnd2.default;\nvar getCurrentUrl = exports.getCurrentUrl = _getCurrentUrl2.default;\nvar markSwupElements = exports.markSwupElements = _markSwupElements2.default;\nvar Link = exports.Link = _Link2.default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _helpers = require('../helpers');\n\nvar loadPage = function loadPage(data, popstate) {\n\tvar _this = this;\n\n\t// create array for storing animation promises\n\tvar animationPromises = [],\n\t    xhrPromise = void 0;\n\tvar animateOut = function animateOut() {\n\t\t_this.triggerEvent('animationOutStart');\n\n\t\t// handle classes\n\t\tdocument.documentElement.classList.add('is-changing');\n\t\tdocument.documentElement.classList.add('is-leaving');\n\t\tdocument.documentElement.classList.add('is-animating');\n\t\tif (popstate) {\n\t\t\tdocument.documentElement.classList.add('is-popstate');\n\t\t}\n\t\tdocument.documentElement.classList.add('to-' + (0, _helpers.classify)(data.url));\n\n\t\t// animation promise stuff\n\t\tanimationPromises = _this.getAnimationPromises('out');\n\t\tPromise.all(animationPromises).then(function () {\n\t\t\t_this.triggerEvent('animationOutDone');\n\t\t});\n\n\t\t// create history record if this is not a popstate call\n\t\tif (!popstate) {\n\t\t\t// create pop element with or without anchor\n\t\t\tvar state = void 0;\n\t\t\tif (_this.scrollToElement != null) {\n\t\t\t\tstate = data.url + _this.scrollToElement;\n\t\t\t} else {\n\t\t\t\tstate = data.url;\n\t\t\t}\n\n\t\t\t(0, _helpers.createHistoryRecord)(state);\n\t\t}\n\t};\n\n\tthis.triggerEvent('transitionStart', popstate);\n\n\t// set transition object\n\tif (data.customTransition != null) {\n\t\tthis.updateTransition(window.location.pathname, data.url, data.customTransition);\n\t\tdocument.documentElement.classList.add('to-' + (0, _helpers.classify)(data.customTransition));\n\t} else {\n\t\tthis.updateTransition(window.location.pathname, data.url);\n\t}\n\n\t// start/skip animation\n\tif (!popstate || this.options.animateHistoryBrowsing) {\n\t\tanimateOut();\n\t} else {\n\t\tthis.triggerEvent('animationSkipped');\n\t}\n\n\t// start/skip loading of page\n\tif (this.cache.exists(data.url)) {\n\t\txhrPromise = new Promise(function (resolve) {\n\t\t\tresolve();\n\t\t});\n\t\tthis.triggerEvent('pageRetrievedFromCache');\n\t} else {\n\t\tif (!this.preloadPromise || this.preloadPromise.route != data.url) {\n\t\t\txhrPromise = new Promise(function (resolve, reject) {\n\t\t\t\t(0, _helpers.fetch)(_extends({}, data, { headers: _this.options.requestHeaders }), function (response) {\n\t\t\t\t\tif (response.status === 500) {\n\t\t\t\t\t\t_this.triggerEvent('serverError');\n\t\t\t\t\t\treject(data.url);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// get json data\n\t\t\t\t\t\tvar page = _this.getPageData(response);\n\t\t\t\t\t\tif (page != null) {\n\t\t\t\t\t\t\tpage.url = data.url;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(data.url);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// render page\n\t\t\t\t\t\t_this.cache.cacheUrl(page);\n\t\t\t\t\t\t_this.triggerEvent('pageLoaded');\n\t\t\t\t\t}\n\t\t\t\t\tresolve();\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\txhrPromise = this.preloadPromise;\n\t\t}\n\t}\n\n\t// when everything is ready, handle the outcome\n\tPromise.all(animationPromises.concat([xhrPromise])).then(function () {\n\t\t// render page\n\t\t_this.renderPage(_this.cache.getPage(data.url), popstate);\n\t\t_this.preloadPromise = null;\n\t}).catch(function (errorUrl) {\n\t\t// rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n\t\t_this.options.skipPopStateHandling = function () {\n\t\t\twindow.location = errorUrl;\n\t\t\treturn true;\n\t\t};\n\n\t\t// go back to the actual page were still at\n\t\twindow.history.go(-1);\n\t});\n};\n\nexports.default = loadPage;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _utils = require('../utils');\n\nvar _helpers = require('../helpers');\n\nvar renderPage = function renderPage(page, popstate) {\n\tvar _this = this;\n\n\tdocument.documentElement.classList.remove('is-leaving');\n\n\t// replace state in case the url was redirected\n\tvar link = new _helpers.Link(page.responseURL);\n\tif (window.location.pathname !== link.getPath()) {\n\t\twindow.history.replaceState({\n\t\t\turl: link.getPath(),\n\t\t\trandom: Math.random(),\n\t\t\tsource: 'swup'\n\t\t}, document.title, link.getPath());\n\n\t\t// save new record for redirected url\n\t\tthis.cache.cacheUrl(_extends({}, page, { url: link.getPath() }));\n\t}\n\n\t// only add for non-popstate transitions\n\tif (!popstate || this.options.animateHistoryBrowsing) {\n\t\tdocument.documentElement.classList.add('is-rendering');\n\t}\n\n\tthis.triggerEvent('willReplaceContent', popstate);\n\n\t// replace blocks\n\tfor (var i = 0; i < page.blocks.length; i++) {\n\t\tdocument.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n\t}\n\n\t// set title\n\tdocument.title = page.title;\n\n\tthis.triggerEvent('contentReplaced', popstate);\n\tthis.triggerEvent('pageView', popstate);\n\n\t// empty cache if it's disabled (because pages could be preloaded and stuff)\n\tif (!this.options.cache) {\n\t\tthis.cache.empty();\n\t}\n\n\t// start animation IN\n\tsetTimeout(function () {\n\t\tif (!popstate || _this.options.animateHistoryBrowsing) {\n\t\t\t_this.triggerEvent('animationInStart');\n\t\t\tdocument.documentElement.classList.remove('is-animating');\n\t\t}\n\t}, 10);\n\n\t// handle end of animation\n\tvar animationPromises = this.getAnimationPromises('in');\n\tif (!popstate || this.options.animateHistoryBrowsing) {\n\t\tPromise.all(animationPromises).then(function () {\n\t\t\t_this.triggerEvent('animationInDone');\n\t\t\t_this.triggerEvent('transitionEnd', popstate);\n\t\t\t// remove \"to-{page}\" classes\n\t\t\tdocument.documentElement.className.split(' ').forEach(function (classItem) {\n\t\t\t\tif (new RegExp('^to-').test(classItem) || classItem === 'is-changing' || classItem === 'is-rendering' || classItem === 'is-popstate') {\n\t\t\t\t\tdocument.documentElement.classList.remove(classItem);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t} else {\n\t\tthis.triggerEvent('transitionEnd', popstate);\n\t}\n\n\t// reset scroll-to element\n\tthis.scrollToElement = null;\n};\n\nexports.default = renderPage;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar triggerEvent = function triggerEvent(eventName, originalEvent) {\n\t// call saved handlers with \"on\" method and pass originalEvent object if available\n\tthis._handlers[eventName].forEach(function (handler) {\n\t\ttry {\n\t\t\thandler(originalEvent);\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t});\n\n\t// trigger event on document with prefix \"swup:\"\n\tvar event = new CustomEvent('swup:' + eventName, { detail: eventName });\n\tdocument.dispatchEvent(event);\n};\n\nexports.default = triggerEvent;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar on = function on(event, handler) {\n\tif (this._handlers[event]) {\n\t\tthis._handlers[event].push(handler);\n\t} else {\n\t\tconsole.warn(\"Unsupported event \" + event + \".\");\n\t}\n};\n\nexports.default = on;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar off = function off(event, handler) {\n\tvar _this = this;\n\n\tif (event != null) {\n\t\tif (handler != null) {\n\t\t\tif (this._handlers[event] && this._handlers[event].filter(function (savedHandler) {\n\t\t\t\treturn savedHandler === handler;\n\t\t\t}).length) {\n\t\t\t\tvar toRemove = this._handlers[event].filter(function (savedHandler) {\n\t\t\t\t\treturn savedHandler === handler;\n\t\t\t\t})[0];\n\t\t\t\tvar index = this._handlers[event].indexOf(toRemove);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tthis._handlers[event].splice(index, 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.warn(\"Handler for event '\" + event + \"' no found.\");\n\t\t\t}\n\t\t} else {\n\t\t\tthis._handlers[event] = [];\n\t\t}\n\t} else {\n\t\tObject.keys(this._handlers).forEach(function (keys) {\n\t\t\t_this._handlers[keys] = [];\n\t\t});\n\t}\n};\n\nexports.default = off;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar updateTransition = function updateTransition(from, to, custom) {\n\t// transition routes\n\tthis.transition = {\n\t\tfrom: from,\n\t\tto: to,\n\t\tcustom: custom\n\t};\n};\n\nexports.default = updateTransition;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _utils = require('../utils');\n\nvar _helpers = require('../helpers');\n\nvar getAnimationPromises = function getAnimationPromises() {\n\tvar promises = [];\n\tvar animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n\tanimatedElements.forEach(function (element) {\n\t\tvar promise = new Promise(function (resolve) {\n\t\t\telement.addEventListener((0, _helpers.transitionEnd)(), function (event) {\n\t\t\t\tif (element == event.target) {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tpromises.push(promise);\n\t});\n\treturn promises;\n};\n\nexports.default = getAnimationPromises;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _helpers = require('../helpers');\n\nvar getPageData = function getPageData(request) {\n\t// this method can be replaced in case other content than html is expected to be received from server\n\t// this function should always return {title, pageClass, originalContent, blocks, responseURL}\n\t// in case page has invalid structure - return null\n\tvar html = request.responseText;\n\tvar pageObject = (0, _helpers.getDataFromHtml)(html, this.options.containers);\n\n\tif (pageObject) {\n\t\tpageObject.responseURL = request.responseURL ? request.responseURL : window.location.href;\n\t} else {\n\t\tconsole.warn('Received page is invalid.');\n\t\treturn null;\n\t}\n\n\treturn pageObject;\n};\n\nexports.default = getPageData;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar use = exports.use = function use(plugin) {\n\tif (!plugin.isSwupPlugin) {\n\t\tconsole.warn('Not swup plugin instance ' + plugin + '.');\n\t\treturn;\n\t}\n\n\tthis.plugins.push(plugin);\n\tplugin.swup = this;\n\tif (typeof plugin._beforeMount === 'function') {\n\t\tplugin._beforeMount();\n\t}\n\tplugin.mount();\n\n\treturn this.plugins;\n};\n\nvar unuse = exports.unuse = function unuse(plugin) {\n\tvar pluginReference = void 0;\n\n\tif (typeof plugin === 'string') {\n\t\tpluginReference = this.plugins.find(function (p) {\n\t\t\treturn plugin === p.name;\n\t\t});\n\t} else {\n\t\tpluginReference = plugin;\n\t}\n\n\tif (!pluginReference) {\n\t\tconsole.warn('No such plugin.');\n\t\treturn;\n\t}\n\n\tpluginReference.unmount();\n\n\tif (typeof pluginReference._afterUnmount === 'function') {\n\t\tpluginReference._afterUnmount();\n\t}\n\n\tvar index = this.plugins.indexOf(pluginReference);\n\tthis.plugins.splice(index, 1);\n\n\treturn this.plugins;\n};\n\nvar findPlugin = exports.findPlugin = function findPlugin(pluginName) {\n\treturn this.plugins.find(function (p) {\n\t\treturn pluginName === p.name;\n\t});\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n// modules\n\n\nvar _delegate = require('delegate');\n\nvar _delegate2 = _interopRequireDefault(_delegate);\n\nvar _Cache = require('./modules/Cache');\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _loadPage = require('./modules/loadPage');\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = require('./modules/renderPage');\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _triggerEvent = require('./modules/triggerEvent');\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nvar _on = require('./modules/on');\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = require('./modules/off');\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _updateTransition = require('./modules/updateTransition');\n\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\n\nvar _getAnimationPromises = require('./modules/getAnimationPromises');\n\nvar _getAnimationPromises2 = _interopRequireDefault(_getAnimationPromises);\n\nvar _getPageData = require('./modules/getPageData');\n\nvar _getPageData2 = _interopRequireDefault(_getPageData);\n\nvar _plugins = require('./modules/plugins');\n\nvar _utils = require('./utils');\n\nvar _helpers = require('./helpers');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Swup = function () {\n\tfunction Swup(setOptions) {\n\t\t_classCallCheck(this, Swup);\n\n\t\t// default options\n\t\tvar defaults = {\n\t\t\tanimateHistoryBrowsing: false,\n\t\t\tanimationSelector: '[class*=\"transition-\"]',\n\t\t\tlinkSelector: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n\t\t\tcache: true,\n\t\t\tcontainers: ['#swup'],\n\t\t\trequestHeaders: {\n\t\t\t\t'X-Requested-With': 'swup',\n\t\t\t\tAccept: 'text/html, application/xhtml+xml'\n\t\t\t},\n\t\t\tplugins: [],\n\t\t\tskipPopStateHandling: function skipPopStateHandling(event) {\n\t\t\t\treturn !(event.state && event.state.source === 'swup');\n\t\t\t}\n\t\t};\n\n\t\t// merge options\n\t\tvar options = _extends({}, defaults, setOptions);\n\n\t\t// handler arrays\n\t\tthis._handlers = {\n\t\t\tanimationInDone: [],\n\t\t\tanimationInStart: [],\n\t\t\tanimationOutDone: [],\n\t\t\tanimationOutStart: [],\n\t\t\tanimationSkipped: [],\n\t\t\tclickLink: [],\n\t\t\tcontentReplaced: [],\n\t\t\tdisabled: [],\n\t\t\tenabled: [],\n\t\t\topenPageInNewTab: [],\n\t\t\tpageLoaded: [],\n\t\t\tpageRetrievedFromCache: [],\n\t\t\tpageView: [],\n\t\t\tpopState: [],\n\t\t\tsamePage: [],\n\t\t\tsamePageWithHash: [],\n\t\t\tserverError: [],\n\t\t\ttransitionStart: [],\n\t\t\ttransitionEnd: [],\n\t\t\twillReplaceContent: []\n\t\t};\n\n\t\t// variable for id of element to scroll to after render\n\t\tthis.scrollToElement = null;\n\t\t// variable for promise used for preload, so no new loading of the same page starts while page is loading\n\t\tthis.preloadPromise = null;\n\t\t// variable for save options\n\t\tthis.options = options;\n\t\t// variable for plugins array\n\t\tthis.plugins = [];\n\t\t// variable for current transition object\n\t\tthis.transition = {};\n\t\t// variable for keeping event listeners from \"delegate\"\n\t\tthis.delegatedListeners = {};\n\t\t// so we are able to remove the listener\n\t\tthis.boundPopStateHandler = this.popStateHandler.bind(this);\n\n\t\t// make modules accessible in instance\n\t\tthis.cache = new _Cache2.default();\n\t\tthis.cache.swup = this;\n\t\tthis.loadPage = _loadPage2.default;\n\t\tthis.renderPage = _renderPage2.default;\n\t\tthis.triggerEvent = _triggerEvent2.default;\n\t\tthis.on = _on2.default;\n\t\tthis.off = _off2.default;\n\t\tthis.updateTransition = _updateTransition2.default;\n\t\tthis.getAnimationPromises = _getAnimationPromises2.default;\n\t\tthis.getPageData = _getPageData2.default;\n\t\tthis.log = function () {}; // here so it can be used by plugins\n\t\tthis.use = _plugins.use;\n\t\tthis.unuse = _plugins.unuse;\n\t\tthis.findPlugin = _plugins.findPlugin;\n\n\t\t// enable swup\n\t\tthis.enable();\n\t}\n\n\t_createClass(Swup, [{\n\t\tkey: 'enable',\n\t\tvalue: function enable() {\n\t\t\tvar _this = this;\n\n\t\t\t// check for Promise support\n\t\t\tif (typeof Promise === 'undefined') {\n\t\t\t\tconsole.warn('Promise is not supported');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// add event listeners\n\t\t\tthis.delegatedListeners.click = (0, _delegate2.default)(document, this.options.linkSelector, 'click', this.linkClickHandler.bind(this));\n\t\t\twindow.addEventListener('popstate', this.boundPopStateHandler);\n\n\t\t\t// initial save to cache\n\t\t\tvar page = (0, _helpers.getDataFromHtml)(document.documentElement.outerHTML, this.options.containers);\n\t\t\tpage.url = page.responseURL = (0, _helpers.getCurrentUrl)();\n\t\t\tif (this.options.cache) {\n\t\t\t\tthis.cache.cacheUrl(page);\n\t\t\t}\n\n\t\t\t// mark swup blocks in html\n\t\t\t(0, _helpers.markSwupElements)(document.documentElement, this.options.containers);\n\n\t\t\t// mount plugins\n\t\t\tthis.options.plugins.forEach(function (plugin) {\n\t\t\t\t_this.use(plugin);\n\t\t\t});\n\n\t\t\t// modify initial history record\n\t\t\twindow.history.replaceState(Object.assign({}, window.history.state, {\n\t\t\t\turl: window.location.href,\n\t\t\t\trandom: Math.random(),\n\t\t\t\tsource: 'swup'\n\t\t\t}), document.title, window.location.href);\n\n\t\t\t// trigger enabled event\n\t\t\tthis.triggerEvent('enabled');\n\n\t\t\t// add swup-enabled class to html tag\n\t\t\tdocument.documentElement.classList.add('swup-enabled');\n\n\t\t\t// trigger page view event\n\t\t\tthis.triggerEvent('pageView');\n\t\t}\n\t}, {\n\t\tkey: 'destroy',\n\t\tvalue: function destroy() {\n\t\t\tvar _this2 = this;\n\n\t\t\t// remove delegated listeners\n\t\t\tthis.delegatedListeners.click.destroy();\n\n\t\t\t// remove popstate listener\n\t\t\twindow.removeEventListener('popstate', this.boundPopStateHandler);\n\n\t\t\t// empty cache\n\t\t\tthis.cache.empty();\n\n\t\t\t// unmount plugins\n\t\t\tthis.options.plugins.forEach(function (plugin) {\n\t\t\t\t_this2.unuse(plugin);\n\t\t\t});\n\n\t\t\t// remove swup data atributes from blocks\n\t\t\t(0, _utils.queryAll)('[data-swup]').forEach(function (element) {\n\t\t\t\telement.removeAttribute('data-swup');\n\t\t\t});\n\n\t\t\t// remove handlers\n\t\t\tthis.off();\n\n\t\t\t// trigger disable event\n\t\t\tthis.triggerEvent('disabled');\n\n\t\t\t// remove swup-enabled class from html tag\n\t\t\tdocument.documentElement.classList.remove('swup-enabled');\n\t\t}\n\t}, {\n\t\tkey: 'linkClickHandler',\n\t\tvalue: function linkClickHandler(event) {\n\t\t\t// no control key pressed\n\t\t\tif (!event.metaKey && !event.ctrlKey && !event.shiftKey && !event.altKey) {\n\t\t\t\t// index of pressed button needs to be checked because Firefox triggers click on all mouse buttons\n\t\t\t\tif (event.button === 0) {\n\t\t\t\t\tthis.triggerEvent('clickLink', event);\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tvar link = new _helpers.Link(event.delegateTarget);\n\t\t\t\t\tif (link.getAddress() == (0, _helpers.getCurrentUrl)() || link.getAddress() == '') {\n\t\t\t\t\t\t// link to the same URL\n\t\t\t\t\t\tif (link.getHash() != '') {\n\t\t\t\t\t\t\t// link to the same URL with hash\n\t\t\t\t\t\t\tthis.triggerEvent('samePageWithHash', event);\n\t\t\t\t\t\t\tvar element = document.querySelector(link.getHash());\n\t\t\t\t\t\t\tif (element != null) {\n\t\t\t\t\t\t\t\thistory.replaceState({\n\t\t\t\t\t\t\t\t\turl: link.getAddress() + link.getHash(),\n\t\t\t\t\t\t\t\t\trandom: Math.random(),\n\t\t\t\t\t\t\t\t\tsource: 'swup'\n\t\t\t\t\t\t\t\t}, document.title, link.getAddress() + link.getHash());\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// referenced element not found\n\t\t\t\t\t\t\t\tconsole.warn('Element for offset not found (' + link.getHash() + ')');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// link to the same URL without hash\n\t\t\t\t\t\t\tthis.triggerEvent('samePage', event);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// link to different url\n\t\t\t\t\t\tif (link.getHash() != '') {\n\t\t\t\t\t\t\tthis.scrollToElement = link.getHash();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// get custom transition from data\n\t\t\t\t\t\tvar customTransition = event.delegateTarget.getAttribute('data-swup-transition');\n\n\t\t\t\t\t\t// load page\n\t\t\t\t\t\tthis.loadPage({ url: link.getAddress(), customTransition: customTransition }, false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// open in new tab (do nothing)\n\t\t\t\tthis.triggerEvent('openPageInNewTab', event);\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'popStateHandler',\n\t\tvalue: function popStateHandler(event) {\n\t\t\tif (this.options.skipPopStateHandling(event)) return;\n\t\t\tvar link = new _helpers.Link(event.state ? event.state.url : window.location.pathname);\n\t\t\tif (link.getHash() !== '') {\n\t\t\t\tthis.scrollToElement = link.getHash();\n\t\t\t} else {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t\tthis.triggerEvent('popState', event);\n\t\t\tthis.loadPage({ url: link.getAddress() }, event);\n\t\t}\n\t}]);\n\n\treturn Swup;\n}();\n\nexports.default = Swup;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Plugin = function () {\n    function Plugin() {\n        _classCallCheck(this, Plugin);\n\n        this.isSwupPlugin = true;\n    }\n\n    _createClass(Plugin, [{\n        key: \"mount\",\n        value: function mount() {\n            // this is mount method rewritten by class extending\n            // and is executed when swup is enabled with plugin\n        }\n    }, {\n        key: \"unmount\",\n        value: function unmount() {\n            // this is unmount method rewritten by class extending\n            // and is executed when swup with plugin is disabled\n        }\n    }, {\n        key: \"_beforeMount\",\n        value: function _beforeMount() {\n            // here for any future hidden auto init\n        }\n    }, {\n        key: \"_afterUnmount\",\n        value: function _afterUnmount() {}\n        // here for any future hidden auto-cleanup\n\n\n        // this is here so we can tell if plugin was created by extending this class\n\n    }]);\n\n    return Plugin;\n}();\n\nexports.default = Plugin;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _plugin = require('@swup/plugin');\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HeadPlugin = function (_Plugin) {\n\t_inherits(HeadPlugin, _Plugin);\n\n\tfunction HeadPlugin() {\n\t\tvar _ref;\n\n\t\tvar _temp, _this, _ret;\n\n\t\t_classCallCheck(this, HeadPlugin);\n\n\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\targs[_key] = arguments[_key];\n\t\t}\n\n\t\treturn _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = HeadPlugin.__proto__ || Object.getPrototypeOf(HeadPlugin)).call.apply(_ref, [this].concat(args))), _this), _this.name = 'HeadPlugin', _this.getHeadAndReplace = function () {\n\t\t\tvar headChildren = _this.getHeadChildren();\n\t\t\tvar nextHeadChildren = _this.getNextHeadChildren();\n\n\t\t\t_this.replaceTags(headChildren, nextHeadChildren);\n\t\t}, _this.getHeadChildren = function () {\n\t\t\treturn document.head.children;\n\t\t}, _this.getNextHeadChildren = function () {\n\t\t\tvar pageContent = _this.swup.cache.getCurrentPage().originalContent.replace('<head', '<div id=\"swupHead\"').replace('</head>', '</div>');\n\t\t\tvar element = document.createElement('div');\n\t\t\telement.innerHTML = pageContent;\n\t\t\tvar children = element.querySelector('#swupHead').children;\n\n\t\t\t// cleanup\n\t\t\telement.innerHTML = '';\n\t\t\telement = null;\n\n\t\t\treturn children;\n\t\t}, _this.replaceTags = function (oldTags, newTags) {\n\t\t\tvar head = document.head;\n\t\t\tvar themeActive = Boolean(document.querySelector('[data-swup-theme]'));\n\t\t\tvar addTags = _this.getTagsToAdd(oldTags, newTags, themeActive);\n\t\t\tvar removeTags = _this.getTagsToRemove(oldTags, newTags, themeActive);\n\n\t\t\tremoveTags.reverse().forEach(function (item) {\n\t\t\t\thead.removeChild(item.tag);\n\t\t\t});\n\n\t\t\taddTags.forEach(function (item) {\n\t\t\t\thead.insertBefore(item.tag, head.children[item.index]);\n\t\t\t});\n\n\t\t\t_this.swup.log('Removed ' + removeTags.length + ' / added ' + addTags.length + ' tags in head');\n\t\t}, _this.compareTags = function (oldTag, newTag) {\n\t\t\tvar oldTagContent = oldTag.outerHTML;\n\t\t\tvar newTagContent = newTag.outerHTML;\n\n\t\t\treturn oldTagContent === newTagContent;\n\t\t}, _this.getTagsToRemove = function (oldTags, newTags) {\n\t\t\tvar removeTags = [];\n\n\t\t\tfor (var i = 0; i < oldTags.length; i++) {\n\t\t\t\tvar foundAt = null;\n\n\t\t\t\tfor (var j = 0; j < newTags.length; j++) {\n\t\t\t\t\tif (_this.compareTags(oldTags[i], newTags[j])) {\n\t\t\t\t\t\tfoundAt = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (foundAt == null && oldTags[i].getAttribute('data-swup-theme') === null) {\n\t\t\t\t\tremoveTags.push({ tag: oldTags[i] });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn removeTags;\n\t\t}, _this.getTagsToAdd = function (oldTags, newTags, themeActive) {\n\t\t\tvar addTags = [];\n\n\t\t\tfor (var i = 0; i < newTags.length; i++) {\n\t\t\t\tvar foundAt = null;\n\n\t\t\t\tfor (var j = 0; j < oldTags.length; j++) {\n\t\t\t\t\tif (_this.compareTags(oldTags[j], newTags[i])) {\n\t\t\t\t\t\tfoundAt = j;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (foundAt == null) {\n\t\t\t\t\taddTags.push({ index: themeActive ? i + 1 : i, tag: newTags[i] });\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn addTags;\n\t\t}, _temp), _possibleConstructorReturn(_this, _ret);\n\t}\n\n\t_createClass(HeadPlugin, [{\n\t\tkey: 'mount',\n\t\tvalue: function mount() {\n\t\t\tthis.swup.on('contentReplaced', this.getHeadAndReplace);\n\t\t}\n\t}, {\n\t\tkey: 'unmount',\n\t\tvalue: function unmount() {\n\t\t\tthis.swup.off('contentReplaced', this.getHeadAndReplace);\n\t\t}\n\t}]);\n\n\treturn HeadPlugin;\n}(_plugin2.default);\n\nexports.default = HeadPlugin;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Scrl = function Scrl(options) {\n    var _this = this;\n\n    _classCallCheck(this, Scrl);\n\n    this._raf = null;\n    this._positionY = 0;\n    this._velocityY = 0;\n    this._targetPositionY = 0;\n    this._targetPositionYWithOffset = 0;\n    this._direction = 0;\n\n    this.scrollTo = function (offset) {\n        if (offset && offset.nodeType) {\n            // the offset is element\n            _this._targetPositionY = Math.round(offset.getBoundingClientRect().top + window.pageYOffset);\n        } else if (parseInt(_this._targetPositionY) === _this._targetPositionY) {\n            // the offset is a number\n            _this._targetPositionY = Math.round(offset);\n        } else {\n            console.error('Argument must be a number or an element.');\n            return;\n        }\n\n        // don't animate beyond the document height\n        if (_this._targetPositionY > document.documentElement.scrollHeight - window.innerHeight) {\n            _this._targetPositionY = document.documentElement.scrollHeight - window.innerHeight;\n        }\n\n        // calculated required values\n        _this._positionY = document.body.scrollTop || document.documentElement.scrollTop;\n        _this._direction = _this._positionY > _this._targetPositionY ? -1 : 1;\n        _this._targetPositionYWithOffset = _this._targetPositionY + _this._direction;\n        _this._velocityY = 0;\n\n        if (_this._positionY !== _this._targetPositionY) {\n            // start animation\n            _this.options.onStart();\n            _this._animate();\n        } else {\n            // page is already at the position\n            _this.options.onAlreadyAtPositions();\n        }\n    };\n\n    this._animate = function () {\n        var distance = _this._update();\n        _this._render();\n\n        if (_this._direction === 1 && _this._targetPositionY > _this._positionY || _this._direction === -1 && _this._targetPositionY < _this._positionY) {\n            // calculate next position\n            _this._raf = requestAnimationFrame(_this._animate);\n            _this.options.onTick();\n        } else {\n            // finish and set position to the final position\n            _this._positionY = _this._targetPositionY;\n            _this._render();\n            _this._raf = null;\n            _this.options.onTick();\n            _this.options.onEnd();\n            // this.triggerEvent('scrollDone')\n        }\n    };\n\n    this._update = function () {\n        var distance = _this._targetPositionYWithOffset - _this._positionY;\n        var attraction = distance * _this.options.acceleration;\n\n        _this._velocityY += attraction;\n\n        _this._velocityY *= _this.options.friction;\n        _this._positionY += _this._velocityY;\n\n        return Math.abs(distance);\n    };\n\n    this._render = function () {\n        window.scrollTo(0, _this._positionY);\n    };\n\n    // default options\n    var defaults = {\n        onAlreadyAtPositions: function onAlreadyAtPositions() {},\n        onCancel: function onCancel() {},\n        onEnd: function onEnd() {},\n        onStart: function onStart() {},\n        onTick: function onTick() {},\n        friction: .7, // 1 - .3\n        acceleration: .04\n\n        // merge options\n    };this.options = _extends({}, defaults, options);\n\n    // set reverse friction\n    if (options && options.friction) {\n        this.options.friction = 1 - options.friction;\n    }\n\n    // register listener for cancel on wheel event\n    window.addEventListener('mousewheel', function (event) {\n        if (_this._raf) {\n            _this.options.onCancel();\n            cancelAnimationFrame(_this._raf);\n            _this._raf = null;\n        }\n    }, {\n        passive: true\n    });\n};\n\nexports.default = Scrl;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _plugin = require('@swup/plugin');\n\nvar _plugin2 = _interopRequireDefault(_plugin);\n\nvar _scrl = require('scrl');\n\nvar _scrl2 = _interopRequireDefault(_scrl);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ScrollPlugin = function (_Plugin) {\n    _inherits(ScrollPlugin, _Plugin);\n\n    function ScrollPlugin(options) {\n        _classCallCheck(this, ScrollPlugin);\n\n        var _this = _possibleConstructorReturn(this, (ScrollPlugin.__proto__ || Object.getPrototypeOf(ScrollPlugin)).call(this));\n\n        _this.name = \"ScrollPlugin\";\n\n        _this.onSamePage = function () {\n            _this.swup.scrollTo(0);\n        };\n\n        _this.onSamePageWithHash = function (event) {\n            var link = event.delegateTarget;\n            var element = document.querySelector(link.hash);\n            var top = element.getBoundingClientRect().top + window.pageYOffset;\n            _this.swup.scrollTo(top);\n        };\n\n        _this.onTransitionStart = function (popstate) {\n            if (_this.options.doScrollingRightAway && !_this.swup.scrollToElement) {\n                _this.doScrolling(popstate);\n            }\n        };\n\n        _this.onContentReplaced = function (popstate) {\n            if (!_this.options.doScrollingRightAway || _this.swup.scrollToElement) {\n                _this.doScrolling(popstate);\n            }\n        };\n\n        _this.doScrolling = function (popstate) {\n            var swup = _this.swup;\n\n            if (!popstate || swup.options.animateHistoryBrowsing) {\n                if (swup.scrollToElement != null) {\n                    var element = document.querySelector(swup.scrollToElement);\n                    if (element != null) {\n                        var top = element.getBoundingClientRect().top + window.pageYOffset;\n                        swup.scrollTo(top);\n                    } else {\n                        console.warn('Element ' + swup.scrollToElement + ' not found');\n                    }\n                    swup.scrollToElement = null;\n                } else {\n                    swup.scrollTo(0);\n                }\n            }\n        };\n\n        var defaultOptions = {\n            doScrollingRightAway: false,\n            animateScroll: true,\n            scrollFriction: 0.3,\n            scrollAcceleration: 0.04\n        };\n\n        _this.options = _extends({}, defaultOptions, options);\n        return _this;\n    }\n\n    _createClass(ScrollPlugin, [{\n        key: 'mount',\n        value: function mount() {\n            var _this2 = this;\n\n            var swup = this.swup;\n\n            // add empty handlers array for submitForm event\n            swup._handlers.scrollDone = [];\n            swup._handlers.scrollStart = [];\n\n            this.scrl = new _scrl2.default({\n                onStart: function onStart() {\n                    return swup.triggerEvent('scrollStart');\n                },\n                onEnd: function onEnd() {\n                    return swup.triggerEvent('scrollDone');\n                },\n                onCancel: function onCancel() {\n                    return swup.triggerEvent('scrollDone');\n                },\n                friction: this.options.scrollFriction,\n                acceleration: this.options.scrollAcceleration\n            });\n\n            // set scrollTo method of swup and animate based on current animateScroll option\n            swup.scrollTo = function (offset) {\n                if (_this2.options.animateScroll) {\n                    _this2.scrl.scrollTo(offset);\n                } else {\n                    swup.triggerEvent('scrollStart');\n                    window.scrollTo(0, offset);\n                    swup.triggerEvent('scrollDone');\n                }\n            };\n\n            // disable browser scroll control on popstates when\n            // animateHistoryBrowsing option is enabled in swup\n            if (swup.options.animateHistoryBrowsing) {\n                window.history.scrollRestoration = 'manual';\n            }\n\n            // scroll to the top of the page\n            swup.on('samePage', this.onSamePage);\n\n            // scroll to referenced element on the same page\n            swup.on('samePageWithHash', this.onSamePageWithHash);\n\n            // scroll to the referenced element\n            swup.on('transitionStart', this.onTransitionStart);\n\n            // scroll to the referenced element when it's in the page (after render)\n            swup.on('contentReplaced', this.onContentReplaced);\n        }\n    }, {\n        key: 'unmount',\n        value: function unmount() {\n            this.swup.scrollTo = null;\n\n            delete this.scrl;\n            this.scrl = null;\n\n            this.swup.off('samePage', this.onSamePage);\n            this.swup.off('samePageWithHash', this.onSamePageWithHash);\n            this.swup.off('transitionStart', this.onTransitionStart);\n            this.swup.off('contentReplaced', this.onContentReplaced);\n\n            this.swup._handlers.scrollDone = null;\n            this.swup._handlers.scrollStart = null;\n\n            window.history.scrollRestoration = 'auto';\n        }\n    }]);\n\n    return ScrollPlugin;\n}(_plugin2.default);\n\nexports.default = ScrollPlugin;","export let assign = Object.assign;\nexport let values = Object.values;\nexport let keys = Object.keys;\n\nexport let isArray = Array.isArray;\n\n// Fastest way to clear an array and use less memory: [stackoverflow.com/questions/1232040/how-do-i-empty-an-array-in-javascript]\n// Clear images array efficiently [smashingmagazine.com/2012/11/writing-fast-memory-efficient-javascript/]\nexport let clear = arr => {\n\twhile (arr.length) arr.pop();\n};\n\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// From davidwalsh: davidwalsh.name/javascript-debounce-function\nexport let debounce = (fn, wait, immediate) => {\n\tlet timeout, later, context, callNow;\n\treturn function (...args) {\n\t\tcontext = this;\n\t\tlater = () => {\n\t\t\ttimeout = null;\n\t\t\tif (!immediate) fn.apply(context, args);\n\t\t};\n\n\t\tcallNow = immediate && !timeout;\n\t\twindow.clearTimeout(timeout);\n\t\ttimeout = window.setTimeout(later, wait);\n\t\tif (callNow) fn.apply(context, args);\n\t};\n};\n\n// Based on [growingwiththeweb.com/2017/12/fast-simple-js-fps-counter.html]\n// Determines the maximum frame rate the current device can reach\n// For determining when to use cool animations\nlet fps = 0;\nconst times = [];\nexport let fpsCounter = () => {\n\twindow.requestAnimationFrame(() => {\n\t\tconst now = performance.now();\n\t\twhile (times.length > 0 && times[0] <= now - 1000) {\n\t\t\ttimes.shift();\n\t\t}\n\t\ttimes.push(now);\n\t\tfps = times.length;\n\t\tif (fps > (fpsCounter.fps || 0)) fpsCounter.fps = fps;\n\t\tfpsCounter();\n\t});\n};\n\n// Remove certain properties\nexport let _removeProps = (prop, obj) => {\n\tlet newObj = { ...obj };\n\tprop.forEach(key => delete newObj[key]);\n\treturn newObj;\n};\n\n// Limits a number to a max, and a min value\nexport let _constrain = (v, a, b) => (v > b ? b : v < a ? a : v);\n\n// Re-maps a number from one range to another. Numbers outside the range are not clamped to 0 and 1, because out-of-range values are often intentional and useful.\nexport let _map = (e, t, n, r, i) => (r + (i - r) * ((e - t) / (n - t)));\n\n// Log values\nexport let _log = (...args) => args.forEach(v => console.log(v));\n\n// Capitalize strings\nexport let _capital = val => val[0].toUpperCase() + val.slice(1);\n\n// Test the type of a value\nexport let _is = (val, type) => (typeof val === type);\n\n// Does the object contain the given key ? Identical to object.hasOwnProperty(key), but uses a safe reference to the hasOwnProperty function, in case it's been overridden\nexport let has = (obj, path) => {\n\treturn obj != null && ({}).hasOwnProperty.call(obj, path);\n};\n\n// Is Instance Of\nlet _isInst = (ctor, obj) => (ctor instanceof obj);\nlet _type = type => { // Tweak of _is\n\treturn val => _is(val, type);\n};\n\n_is.el = el => _isInst(el, Element) || _isInst(el, Document);\n_is.arrlike = obj => {\n\tlet len = _is(obj.length, \"number\") && obj.length;\n\treturn len === 0 || len > 0 && (len - 1) in obj;\n};\n_is.usable = v => !_is(v, \"undefined\") && v !== null;\n_is.num = val => !isNaN(val) && _type(\"number\") (val);\n_is.not = (type, ...args) => !_is[type](...args);\n_is.doc = ctor => _isInst(ctor, Document);\n_is.def = v => !_is(v, \"undefined\");\n_is.undef = _type(\"undefined\");\n_is.win = v => v && v.window;\n_is.bool = _type(\"boolean\");\n_is.fn = _type(\"function\");\n_is.null = v => v === null;\n_is.str = _type(\"string\");\n_is.obj = _type(\"object\");\n_is.nul = v => v === null;\n_is.inst = _isInst;\n_is.arr = isArray;\n_is.type = _type;\n\n// The (I was using the native .toFixed method, now I am using Math.floor \"~~\"), but if the digits parameter is either undefined or null, return the initial value\n// I am using ~~ instead of Math.round because it's faster [measurethat.net/Benchmarks/Show/7756/0/tofixed-vs-toprecision-vs-mathround-vs-mathfloorfast-vs]\nexport let toFixed = (num, digits) => _is.usable(digits) ? ( digits == 0 ? Math.round(num) : ~~(num * Math.pow(10, digits)) / Math.pow(10, digits)) : num;\n\n/**\n * @param  {Function} fn\n * @param  {Array<any>} args\n * @param  {Object} ctxt\n */\nexport let _fnval = (fn, args, ctxt) => {\n\tif (!_is.fn(fn) ||\n\t\tkeys(fn.prototype || {}).length > 0)\n\t\t{ return fn; }\n\treturn fn.apply(ctxt, args);\n};\n\nexport default { _capital, _is, _constrain, _map, _fnval, assign, keys, values, _log, clear };\n","import { _is } from \"./util\";\n\nlet ele;\nlet slice = [].slice;\nlet tagRE = /^\\s*<(\\w+|!)[^>]*>/;\nlet tagExpandRE = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig;\nexport let _qsa = (dom = document, sel) => {\n    let classes, _dom = dom;\n    _is.str(dom) && (_dom = _qsa(document, dom)[0]);\n    _is.inst(dom, ele) && (_dom = dom[0]);\n    if (!_is.str(sel) || sel.length === 0) return [];\n    if (_is.inst(_dom, HTMLCollection)) return slice.call(_dom);\n    if (/^(#?[\\w-]+|\\.[\\w-.]+)$/.test(sel)) {\n        switch (sel.charAt(0)) {\n            case '#':\n                return [_dom.getElementById(sel.substr(1))];\n            case '.':\n                classes = sel.substr(1);\n                if (/^[\\w-]*$/.test(classes)) {\n                    return slice.call(_dom.getElementsByClassName(classes));\n                }\n                break;\n            default:\n                return slice.call(_dom.getElementsByTagName(sel));\n        }\n    }\n\n    return slice.call(_dom.querySelectorAll(sel));\n};\n\n// Create an Element List from a HTML string\nexport let _createElem = html => {\n    let dom, container;\n    container = document.createElement('div');\n    container.innerHTML = '' + html.replace(tagExpandRE, \"<$1></$2>\");\n    dom = slice.call(container.childNodes);\n    dom.forEach(el => {\n        container.removeChild(el);\n    });\n\n    return dom;\n};\n\n// Element selector\nexport let _elem = (sel, ctxt) => {\n    if (_is.str(sel)) {\n        sel = sel.trim();\n        if (tagRE.test(sel)) { return _createElem(sel); }\n        else { return _qsa(ctxt, sel); }\n    } else if (_is.inst(sel, ele)) { return sel; }\n    else if (_is.arr(sel) || _is.inst(sel, NodeList))\n        { return slice.call(sel).filter(item => _is.def(item)); }\n    else if (_is.obj(sel) || _is.el(sel)) { return [sel]; }\n    else if (_is.fn(sel)) { return _elem(sel()); }\n    return [];\n};\n\n// Element Object [Based on Zepto.js]\nexport default ele = class {\n    constructor(sel = '', ctxt) {\n        this.sel = sel; // Selector\n        this.ele = _elem(this.sel, ctxt); // Element\n\n        for (let i = 0; i < this.ele.length; i++) {\n            this[i] = this.ele[i];\n        }\n        this.length = this.ele.length;\n    }\n};\n","import { _is, _fnval, _capital } from \"./util\";\nimport ele, { _qsa, _elem, _createElem } from './ele';\n\n// Quick access to a new ele object\nexport let el = (sel, ctxt) => {\n    return _is.inst(sel, ele) && !_is.usable(ctxt) ? sel : new ele(sel, ctxt);\n};\n\n// Select specific element at an index of the ele object\nexport let get = (_el, idx) => {\n    _el = el(_el);\n    return !_is.num(idx) ? [].slice.call(_el) : _el[idx >= 0 ? idx : idx + _el.length];\n};\nexport let nth = get; // An alias of get\nexport let toArray = val => (_is.inst(val, ele) ? get(val) : val); // Convert ele objects to arrays\nexport let indexOf = (_el, val) => [].indexOf.call(el(_el), val); // Array.indexOf for the ele object\n\n// Array.slice designed to work with Elements\nexport let slice = (_el, ...args) => el([].slice.apply(el(_el), args));\n\n// Create a wrapper ele object for an element at a certain index\nexport let eq = (_el, idx) => {\n    return idx === -1 ? slice(_el, idx) : slice(_el, idx, +idx + 1);\n};\n\n// Select the first element in ele object\nexport let first = _el => {\n    let el = get(_el, 0);\n    return el && !_is.obj(el) ? el : new ele(el);\n};\n\n// Select the last element in ele object\nexport let last = _el => {\n    let el = get(_el, -1);\n    return el && !_is.obj(el) ? el : new ele(el);\n};\n\n// The matches() method checks to see if the Element would be selected by the provided selectorString -- in other words -- checks if the element \"is\" the selector.\nexport let _matches = (ele, sel) => {\n    if (_is.undef(ele)) return;\n    let matchSel = _is.el(sel) ? el => {\n        var matches = [el], i = matches.length;\n        while (--i >= 0 && matches[i] !== ele);\n        return i > -1;\n    } : ele.matches || ele.msMatchesSelector || ele.webkitMatchesSelector;\n    if (matchSel) return matchSel.call(ele, sel);\n};\n\n// Support the Element Object as an Array\nlet _concat = function (...args) {\n    [].map.call(args, val => toArray(val)); // Transform Elements to Arrays\n    return [].concat(...args);\n};\n\n// Map objects and remove undefined/null values\nlet _map = (obj, fn, ctxt) => {\n    let arr = [].map.call(obj, fn, ctxt)\n        .filter(item => _is.usable(item));\n\n    // Creates a flat Array of Objects\n    return (arr.length > 0 ? _concat(...arr) : arr);\n};\n\n// Added support for element mapping\nexport let map = (_el, fn) => {\n    _el = el(_el);\n    return el(_map(_el, (el, i) => fn.call(el, el, i)));\n};\n\n// Functions the same way Array.forEach does\nexport let forEach = (_el, fn, ctxt) => {\n    _el = el(_el);\n    for (let i = 0, len = _el.length; i < len; i ++)\n        fn.call(ctxt, _el[i], i);\n    return _el;\n};\n\n/* Similar to forEach, however, the context of the iterator is set and\n   it allows the iterators return value to stop the iteration just like Array.every */\nexport let each = (_el, fn) => {\n    _el = el(_el);\n    for (let i = 0, len = _el.length; i < len; i ++) {\n        let value = _el[i];\n        if (fn.call(value, value, i) == false) break;\n    }\n    return _el;\n};\n\n// Quickly filter nodes by a selector\nexport let filter = (_el, sel) => {\n    _el = el(_el);\n    if (_is.undef(sel)) return _el;\n    return el([].filter.call(_el, _is.fn(sel) ? sel : ele => _matches(ele, sel), _el));\n};\n\n// Check if the parent node contains the given DOM node. Returns false if both are the same node.\nlet _contains = (parent, node) => {\n    if (parent.contains) return parent !== node && parent.contains(node);\n    while (node && (node = node.parentNode))\n        if (node === parent) return true;\n    return false;\n};\n\n// Find an element that matches a selector in a ele object\nexport let find = (_el, sel) => {\n    let result;\n    _el = el(_el);\n    if (!sel) result = el();\n    else if (_is.obj(sel)) {\n        result = filter(sel, el => {\n            return [].some.call(_el, parent => _contains(parent, el));\n        });\n    } else if (_el.length === 1) { result = el(_qsa(get(_el, 0), sel)); }\n    else { result = map(_el, el => _qsa(el, sel)); }\n    return result;\n};\n\n// Check to see if a ele object has a certain element\nexport let has = (_el, sel) => {\n    return filter(_el, el => {\n        return _is.obj(sel) ? _contains(el, sel) : find(el, sel).length;\n    });\n};\n\n// Traverse upwards from the current element to find the first element that matches the selector.\nexport let closest = (_el, sel, ctxt) => {\n    let list = _is.obj(sel) && el(sel);\n    _el = el(el);\n    return el(\n        [].reduce.call(_el, (acc, $el) => {\n            do {\n                if (list ? indexOf(list, $el) >= 0 : _matches($el, sel)) break;\n                $el = $el !== ctxt && !_is.doc($el) && $el.parentNode;\n            } while ($el !== null && $el.nodeType === 1);\n            if ($el && acc.indexOf($el) < 0) acc.push($el);\n            return acc;\n        }, [])\n    );\n};\n\n// Select the parents of an element\nexport let parents = (_el, sel) => {\n    let ancestors = [], nodes = el(_el);\n    while (nodes.length > 0) {\n        nodes = map(nodes, el => {\n            if ((el = el.parentNode) && !_is.doc(el) && ancestors.indexOf(el) < 0) {\n                ancestors.push(el);\n                return el;\n            }\n        });\n    }\n    return filter(ancestors, sel);\n};\n\n// `pluck` based on underscore.js, select a specific property from the ele object\nexport let pluck = (_el, prop) => map(_el, el => el[prop]);\n\n// Select all the different values in an Array, based on underscorejs\nlet _uniq = arr => {\n    return [].filter.call(arr, (val, idx) => arr.indexOf(val) === idx);\n};\n\n// Get immediate parents of each element in the collection. If CSS selector is given, filter results to include only ones matching the selector.\nexport let parent = (_el, sel) => {\n    return filter(_uniq(pluck(_el, 'parentNode')), sel);\n};\n\n// Select all children of an element\nlet _children = val => {\n    return 'children' in val ? [].slice.call(val.children) :\n        _map(val.childNodes, node => {\n            if (node.nodeType === 1) return node;\n        });\n};\n\n// Get immediate children of each element in the current collection. If selector is given, filter the results to only include ones matching the CSS selector.\nexport let children = (_el, sel) => {\n    return filter(map(_el, el => _children(el)), sel);\n};\n\n// Get the children of each element in the collection, including text and comment nodes.\nexport let contents = _el => {\n    return map(_el, el => el.contentDocument || [].slice.call(el.childNodes));\n};\n\n// Get all sibling nodes of each element in the collection. If CSS selector is specified, filter the results to contain only elements that match the selector.\nexport let siblings = (_el, sel) => {\n    return filter(map(_el, el =>\n        [].filter.call(\n            _children(el.parentNode),\n            child => (child !== el)\n        )\n    ), sel);\n};\n\n/* - DOM Manipulation - */\n// Remove elements in the current collection from their parent nodes, effectively detaching them from the DOM.\nexport let remove = _el => {\n    return each(_el, $el => {\n        if (_is.usable($el.parentNode))\n            $el.parentNode.removeChild($el);\n    });\n};\n\n// Traverse DOM Depth First\nlet traverseDF = (_node, fn) => {\n    let recurse;\n    // This is a recurse and immediately-invoking function\n    recurse = node => { // Step 2\n        node.childNodes && [].slice.call(node.childNodes).forEach(recurse, node); // Step 3\n        fn.call(node, node); // Step 4\n    };\n    recurse(_node); // Step 1\n};\n\n// Generate the `after`, `prepend`, `before`, `append`, `insertAfter`, `insertBefore`, `appendTo`, and `prependTo` methods.\nlet _insert = (pos, _target) => {\n    // inside => prepend, append\n    let inside = pos === \"inside\";\n    return (_el, ...args) => {\n        // Arguments can be nodes, arrays of nodes, Element objects and HTML strings\n        _el = el(_el);\n        let clone = _el.length > 1;\n        let nodes = _map(args, arg => {\n            if (_is.arr(arg)) {\n                return arg.reduce((acc, el) => {\n                    if (_is.def(el.nodeType)) acc.push(el);\n                    else if (_is.inst(el, ele)) acc = acc.concat(toArray(el));\n                    else if (_is.str(el)) acc = acc.concat(_createElem(el));\n                    return acc;\n                }, []);\n            }\n\n            return _is.obj(arg) || _is.nul(arg) ? arg : _createElem(arg);\n        });\n\n        return each(_el, target => {\n            let parent = inside ? target : target.parentNode;\n            let parentInDoc = _contains(document.documentElement, parent);\n            let next = target.nextSibling, first = target.firstChild;\n\n            // Convert all methods to a \"before\" operation\n            target = { next, first, target, null: null } [_target];\n            nodes.forEach(node => {\n                if (clone) node = node.cloneNode(true);\n                else if (!parent) return remove(node);\n                parent.insertBefore(node, target);\n\n                if (parentInDoc) {\n                    traverseDF(node, function (el) {\n                        if (!_is.nul(el.nodeName) && el.nodeName.toUpperCase() === 'SCRIPT' &&\n                            (!el.type || el.type === 'text/javascript') && !el.src) {\n                            let target = el.ownerDocument ? el.ownerDocument.defaultView : window;\n                            target.eval.call(target, el.innerHTML);\n                        }\n                    });\n                }\n            });\n        });\n    };\n};\n\n// after    => insertAfter, prepend  => prependTo\n// before   => insertBefore, append   => appendTo\nlet _specificInsert = fn => {\n    return (_el, html) => {\n        _el = el(_el);\n        fn(html, _el);\n        return _el;\n    };\n};\n\nexport let after = _insert(\"outside\", \"next\");\nexport let prepend = _insert(\"inside\", \"first\");\nexport let before = _insert(\"outside\", \"target\");\nexport let append = _insert(\"inside\", \"null\");\n\nexport let insertAfter = _specificInsert(after);\nexport let insertBefore = _specificInsert(before);\nexport let appendTo = _specificInsert(append);\nexport let prependTo = _specificInsert(prepend);\n\n// Replace each element in the collection–both its contents and the element itself–with the new content. Content can be of any type described in before.\nexport let replaceWith = (_el, content) => remove(before(_el, content));\nexport let clone = _el => map(_el, el => el.cloneNode(true)); // Duplicate all elements in the collection via deep clone.\n\n// CSS properties that use unitless numbers\nlet _cssNumber = [\"column-count\", \"columns\", \"font-weight\", \"line-height\", \"opacity\", \"z-index\", \"zoom\"];\n\n// Decide if the value deserves px at the\nlet _maybeAddPx = (name, val) => {\n    return _is.num(+val) && !_cssNumber.includes(name) ? `${val}px` : val;\n};\n\n// Read or set CSS properties on DOM elements.\nexport let style = (_el, ...args) => {\n    let [prop, val] = args, css = '', key;\n    if (args.length < 2) {\n        let el = get(_el, 0);\n        if (!el) return;\n        if (_is.str(prop)) {\n            return el.style[prop] || window.getComputedStyle(el, '').getPropertyValue(prop);\n        } else if (_is.arr(prop)) {\n            let props = {};\n            let computedStyle = window.getComputedStyle(el, '');\n            prop.forEach(_prop => {\n                props[_prop] = (el.style[_prop] || computedStyle.getPropertyValue(_prop));\n            });\n            return props;\n        }\n    }\n\n    if (_is.str(prop)) {\n        if (!val && val !== 0) {\n            each(_el, el => { el.style.removeProperty(prop); });\n        } else {\n            css = prop + \":\" + _maybeAddPx(prop, val);\n        }\n    } else {\n        for (key in prop) {\n            if (!prop[key] && prop[key] !== 0) {\n                each(_el, el => { el.style.removeProperty(key); });\n            } else {\n                css += key + ':' + _maybeAddPx(key, prop[key]) + ';';\n            }\n        }\n    }\n\n    return each(_el, el => { el.style.cssText += ';' + css; });\n};\n\n// Method for creating size methods\nlet _size = sz => {\n    let prop = _capital(sz);\n    return (_el, value) => {\n        let _offset, $$el = get(_el, 0);\n        if (_is.undef(value)) {\n            if (_is.win($$el)) {\n                return $$el[`inner${prop}`];\n            } else if (_is.doc($$el)) {\n                return $$el.documentElement[`scroll${prop}`];\n            } else { return (_offset = offset(_el)) && _offset[sz]; }\n        } else {\n            return each(_el, ($el, idx) => {\n                style($el, sz, _fnval(value, [$$el[sz], idx], $el));\n            });\n        }\n    };\n};\n\n// Generate the `width` and `height` methods\nexport let width = _size(\"width\");\nexport let height = _size(\"height\");\n\n// Show/hide an element\nexport let show = _el => { return style(_el, \"display\", \"\"); };\nexport let hide = _el => { return style(_el, \"display\", \"none\"); };\n\n// Toggle between showing and hiding each of element in the ele object, based on whether the first element is visible or not.\nexport let toggle = (_el, opt) => {\n    return each(_el, el => {\n        let _el = _elem(el);\n        let _opt = opt || style(_el, \"display\") === \"none\";\n        _opt ? show(_el) : hide(_el)\n    });\n};\n\n// Select element siblings based on selector\nexport let prev = (_el, sel) => filter(pluck(_el, 'previousElementSibling'), sel || '*');\nexport let next = (_el, sel) => filter(pluck(_el, 'nextElementSibling'), sel || '*');\n\n// Empty the value of an element in the ele object\nexport let empty = _el => each(_el, el => { el.innerHTML = ''; });\n\n// Get or set HTML contents of elements in the collection. When no content given, returns innerHTML of the first element.\nexport let html = (_el, ...args) => {\n    let [html] = args;\n    _el = el(_el);\n    return args.length ?\n        each(_el, (el, idx) => {\n            let originHTML = el.innerHTML;\n            append(empty(el), _fnval(html, [originHTML, idx], el));\n        }) : (_el.length ? get(_el, 0).innerHTML : null);\n};\n\n// Get or set HTML element in the collection. When no content given, returns innerHTML of the first element.\nexport let outerHTML = (_el, ...args) => {\n    let [html] = args;\n    _el = el(_el);\n    return args.length ?\n        each(_el, (el, idx) => {\n            let originHTML = el.outerHTML;\n            append(empty(el), _fnval(html, [originHTML, idx], el));\n        }) : (_el.length ? get(_el, 0).outerHTML : null);\n};\n\nexport let text = (_el, ...args) => {\n    let [text] = args;\n    _el = el(_el);\n    return args.length ?\n        each(_el, (el, idx) => {\n            let newText = _fnval(text, [el.textContent, idx], el);\n            el.textContent = _is.nul(newText) ? '' : `${newText}`;\n        }) : (_el.length ? pluck(_el, 'textContent').join(\"\") : null);\n};\n\n// Quickly set the value of an attribute or remove the attribute completely from a node\nlet _setAttr = (node, name, value) => value === null ? node.removeAttribute(name) : node.setAttribute(name, value);\n\n// Set the attribute of elements in the ele object\nexport let attr = (_el, name, val) => {\n    let result;\n    _el = el(_el);\n    if (_is.str(name) && _is.undef(val)) {\n        result = _el.length && get(_el, 0).nodeType === 1 &&\n            get(_el, 0).getAttribute(name);\n        return !_is.nul(result) ? result : undefined;\n    } else {\n        return each(_el, (el, idx) => {\n            if (el.nodeType !== 1) return;\n            if (_is.arr(name)) {\n                for (let i in name)\n                    _setAttr(el, i, name[i]);\n            } else {\n                _setAttr(el, name, _fnval(val, [el.getAttribute(name), idx], el));\n            }\n        });\n    }\n};\n\n// Remove an attribute from all elements in the ele object\nexport let removeAttr = (_el, name) => {\n    return each(_el, el => {\n        el.nodeType === 1 && name.split(' ')\n            .forEach(attr => { _setAttr(el, attr); });\n    });\n};\n\nlet propMap = {\n    'tabindex': 'tabIndex',\n    'readonly': 'readOnly',\n    'for': 'htmlFor',\n    'class': 'className',\n    'maxlength': 'maxLength',\n    'cellspacing': 'cellSpacing',\n    'cellpadding': 'cellPadding',\n    'rowspan': 'rowSpan',\n    'colspan': 'colSpan',\n    'usemap': 'useMap',\n    'frameborder': 'frameBorder',\n    'contenteditable': 'contentEditable'\n};\n\n// Read or set properties of DOM elements. This should be preferred over attr in case of reading values of properties that change with user interaction over time, such as checked and selected.\nexport let prop = (_el, name, value) => {\n    name = propMap[name] || name;\n    return _is.str(name) && _is.undef(value) ?\n        (get(_el, 0) && get(_el, 0)[name]) :\n        each(_el, ($el, idx) => {\n            if (_is.obj(name)) {\n                for (let key in name) {\n                    $el[propMap[key] || key] = name[key];\n                }\n            } else {\n                $el[name] = _fnval(value, [$el[name], idx], $el);\n            }\n        });\n};\n\n// Remove a property from each of the DOM nodes in the collection. This is done with JavaScript’s delete operator. Note that trying to remove some built-in DOM properties such as className or maxLength won’t have any affect, since browsers disallow removing those properties.\nexport let removeProp = (_el, name) => {\n    name = propMap[name] || name;\n    return each(_el, $el => { delete $el[name]; });\n};\n\n// Transform string values to the proper type of value eg. \"12\" = 12, \"[12, 'xyz']\" = [12, 'xyz']\nlet _valfix = value => {\n    let validTypes = /^true|false|null|undefined|\\d+$/;\n    let _fn = v => Function(`\"use strict\"; return ${v};`) ();\n    let objectType = /^[[{]([\\s\\S]+)?[\\]}]$/;\n    try {\n        return validTypes.test(value) ? _fn(value) :\n            objectType.test(value) ? JSON.parse(value.replace(/'/g, \"\\\"\")) : value;\n    } catch (e) { return value; }\n};\n\n// Read or write data-* DOM attributes. Behaves like attr, but prepends data- to the attribute name.\nexport let data = (_el, name, value) => {\n    let attrName = `data-${name}`.toLowerCase();\n    let data = _is.def(value) ? attr(_el, attrName, value) : attr(_el, attrName);\n    return data !== null ? _valfix(data) : undefined;\n};\n\n/* Get or set the value of form controls. When no value is given, return the value of the first element.\n   For <select multiple>, an array of values is returend. When a value is given, set all elements to this value. */\nexport let val = (_el, value, ...args) => {\n    _el = el(_el);\n    if (args.length) {\n        if (_is.nul(value)) value = \"\";\n        return each(_el, (el, idx) => {\n            el.value = _fnval(value, [el.value, idx], el);\n        });\n    } else {\n        _el = get(_el, 0);\n        return _el && (_el.multiple ?\n            pluck(filter(find(_el, 'option'), el => el.selected), 'value') :\n            _el.value);\n    }\n};\n\n// Get position of the element in the document. Returns an object with properties: top, left, width and height.\nexport let offset = (_el, coords) => {\n    let obj;\n    _el = el(_el);\n    if (coords) {\n        return each(_el, (el, idx) => {\n            let $this = new ele(el);\n            let _coords = _fnval(coords, [offset($this), idx], el);\n            let parentOffset = offset(offsetParent($this));\n            let props = {\n                top: _coords.top - parentOffset.top,\n                left: _coords.left - parentOffset.left\n            };\n\n            if (style($this, 'position') === 'static') props.position = 'relative';\n            style($this, props);\n        })\n    }\n\n    if (!_el.length) return null;\n    if (document.documentElement !== get(_el, 0) && !_contains(document.documentElement, get(_el, 0)))\n        return { top: 0, left: 0 };\n\n    obj = get(_el, 0).getBoundingClientRect();\n    return {\n        left: obj.left + (window.pageXOffset || document.documentElement.scrollLeft),\n        top: obj.top + (window.pageYOffset || document.documentElement.scrollTop),\n        width: Math.round(obj.width),\n        height: Math.round(obj.height)\n    };\n};\n\n// Get the position of an element in the ele object collection. When no element is given, returns position of the current element among its siblings. When an element is given, returns its position in the current collection. Returns -1 if not found.\nexport let index = (_el, el) => {\n    _el = new ele(_el);\n    return el ? indexOf(_el, get(el, 0)) : indexOf(children(parent(_el)), get(_el, 0));\n};\n\n// Class name cache\nlet classcache = {};\n\n// Class name RegExp\nlet _classRE = name => {\n    return name in classcache ? classcache[name] :\n        (classcache[name] = new RegExp('(^|\\\\s)' + name + '(\\\\s|$)'));\n};\n\n// Get the class name for an element\nlet getclass = (node, value) => {\n    let name = node.className || '';\n    let svg  = name && !_is.undef(name.baseVal);\n\n    if (_is.undef(value)) return svg ? name.baseVal : name;\n    svg ? (name.baseVal = value) : (node.className = value);\n};\n\n// Check if any elements in the collection have the specified class.\nexport let hasClass = (_el, name) => {\n    if (!name) return false;\n    return [].some.call(el(_el), el => {\n        return _classRE(name).test(getclass(el));\n    });\n};\n\n// Add class name to each of the elements in the collection. Multiple class names can be given in a space-separated string.\nexport let addClass = (_el, name) => {\n    _el = el(_el);\n    if (!name) return _el;\n    return each(_el, (el, idx) => {\n        if (!('className' in el)) return;\n\n        let classList = [], cls = getclass(el);\n        _fnval(name, [cls, idx], el).split(/\\s+/g).forEach(_name => {\n            if (!hasClass(el, _name)) classList.push(_name);\n        });\n\n        classList.length && getclass(el, cls + (cls ? \" \" : \"\") + classList.join(\" \"));\n    });\n};\n\n// Remove the specified class name from all elements in the collection. When the class name isn’t given, remove all class names. Multiple class names can be given in a space-separated string.\nexport let removeClass = (_el, name) => {\n    return each(_el, (el, idx) => {\n        if (!('className' in el)) return;\n        if (_is.undef(name)) return getclass(el, '');\n\n        let classList = getclass(el);\n        _fnval(name, [classList, idx], el).split(/\\s+/g).forEach(_name => {\n            classList = classList.replace(_classRE(_name), \" \");\n        });\n\n        getclass(el, classList.trim());\n    });\n};\n\n// Toggle given class names (space-separated) in each element in the collection. The class name is removed if present on an element; otherwise it’s added.\nexport let toggleClass = (_el, name, when) => {\n    _el = el(_el);\n    if (!name) return _el;\n    return each(_el, function (el, idx) {\n        let $this = new ele(el);\n        _fnval(name, [getclass(el), idx], el).split(/\\s+/g)\n        .forEach(_name => {\n            (_is.undef(when) ? !hasClass($this, _name) : when) ?\n            addClass($this, _name) : removeClass($this, _name);\n        });\n    });\n};\n\n// Find the first ancestor element that is positioned, meaning its CSS position value is \"relative\", \"absolute\" or \"fixed\".\nexport let offsetParent = _el => {\n    return map(_el, el => {\n        let parent = el.offsetParent || document.body;\n        while (parent && !/^(?:body|html)$/i.test(parent.nodeName) &&\n            style(parent, \"position\") === \"static\") {\n            parent = parent.offsetParent;\n        }\n        return parent;\n    });\n};\n\n// Get the position of the first element in the collection, relative to the offsetParent. This information is useful when absolutely positioning an element to appear aligned with another.\nexport let position = _el => {\n    _el = el(_el);\n    if (!_el.length) return;\n\n    let elem = get(_el, 0),\n        _offsetParent = offsetParent(_el),\n        _offset = offset(_el),\n        parentOffset = /^(?:body|html)$/i.test(_offsetParent[0].nodeName) ? { top: 0, left: 0 } : offset(_offsetParent);\n\n    _offset.top -= parseFloat(style(elem, 'margin-top')) || 0;\n    _offset.left -= parseFloat(style(elem, 'margin-left')) || 0;\n\n    parentOffset.top += parseFloat(style(_offsetParent[0], 'border-top-width')) || 0;\n    parentOffset.left += parseFloat(style(_offsetParent[0], 'border-left-width')) || 0;\n\n    return {\n        top: _offset.top - parentOffset.top,\n        left: _offset.left - parentOffset.left\n    }\n};\n\n// Gets or sets how many pixels were scrolled down so far on window or scrollable element on the page.\nexport let scrollTop = (_el, val) => {\n    _el = el(_el);\n    if (!_el.length) return;\n\n    let hasScroll = 'scrollTop' in get(_el, 0);\n    if (_is.undef(val)) return get(_el, 0)[hasScroll ? \"scrollTop\" : \"pageYOffset\"];\n    return each(_el, el => {\n        hasScroll ? (el.scrollTop = val) : el.scrollTo(el.scrollX, val);\n    });\n};\n\n// Gets or sets how many pixels were scrolled right so far on window or scrollable element on the page.\nexport let scrollLeft = (_el, val) => {\n    _el = el(_el);\n    if (!_el.length) return;\n\n    let hasScroll = 'scrollLeft' in get(_el, 0);\n    if (_is.undef(val)) return get(_el, 0)[hasScroll ? \"scrollLeft\" : \"pageXOffset\"];\n    return each(_el, el => {\n        hasScroll ? (el.scrollLeft = val) : el.scrollTo(val, el.scrollY);\n    });\n};\n\n// Animates the scrolling of the window in the y-axis\nlet _raf; // Stores scroll animation frame\nexport let scrollTo = (to, dur, ease) => {\n    to = parseInt(to); dur = parseInt(dur);\n    let start = window.pageYOffset, change = to - start, time = 0;\n    let $ease = ease || ((time, start, change, length) => {\n        if ((time /= length / 2) < 1) {\n            return change / 2 * time * time + start;\n        }\n\n        return - change / 2 * ((-- time) * (time - 2) - 1) + start;\n    });\n\n    let scroll, startTime = performance.now();\n    return new Promise(resolve => {\n        if (!_raf) {\n            _raf = requestAnimationFrame((scroll = newTime => {\n                time = newTime - startTime;\n                window.scroll(0, $ease(time, start, change, dur));\n\n                if (time < dur) {\n                    _raf = requestAnimationFrame(scroll);\n                } else {\n                    window.scroll(0, to);\n                    window.cancelAnimationFrame(_raf);\n                    _raf = undefined;\n                    resolve();\n                }\n            }));\n        }\n    });\n};\n\n// Test for passive support, based on [github.com/rafrex/detect-passive-events]\nlet passive = false, opts = {}, noop = () => { };\ntry {\n    opts = Object.defineProperty({}, \"passive\", {\n        get: () => passive = { capture: false, passive: true }\n    });\n\n    window.addEventListener(\"PassiveEventTest\", noop, opts);\n    window.removeEventListener(\"PassiveEventsTest\", noop, opts);\n} catch (e) { console.warn(\"Passive Events aren't supported in this browser, performance may suffer.\"); }\n\n/**\n * Adds a listener for a given event\n *\n * @param {String|Object|Array} events\n * @param {Function*} callback\n * @param {Object*} scope\n */\n// Alias for the addEventListener; supports multiple elements, and multiple way of defining an event\nexport let on = (elems, events, callback, scope) => {\n    // If there is no event break\n    if (typeof events == \"undefined\") return this;\n\n     // Create a new event every space\n    if (typeof events == \"string\") events = events.split(/\\s/g);\n\n    let event;\n    // Loop through the list of events\n    Object.keys(events).forEach(key => {\n        // Select the name of the event from the list\n        // Remember events can be {String | Object | Array}\n        event = events[key];\n\n        // Check If events is an Object (JSON like Object, and not an Array)\n        if (typeof events == \"object\" && !Array.isArray(events)) {\n            scope = callback; callback = event; event = key;\n        }\n\n        if (!_is.usable(scope)) {\n            let useCapture = /blur|focus|touch/.test(event);\n            scope = event === \"scroll\" ? passive || {} : { useCapture };\n        }\n\n        if (/ready/.test(event)) {\n            if (!(/in/.test(document.readyState))) {\n                window.setTimeout(() => callback(), 0);\n            } else if (document.addEventListener) {\n                let handler = () => {\n                    document.removeEventListener(\"DOMContentLoaded\", handler);\n                    window.removeEventListener(\"load\", handler);\n                    callback();\n                };\n\n                document.addEventListener(\"DOMContentLoaded\", handler);\n                window.addEventListener(\"load\", handler);\n            }\n        } else {\n            each(elems, elem => {\n                elem.addEventListener(event, callback, scope);\n            });\n        }\n    }, this);\n};\n\n/**\n * Removes a listener for a given event\n *\n * @param {String|Object|Array} events\n * @param {Function*} callback\n * @param {Object*} scope\n */\nexport let off = (elems, events, callback, scope) => {\n    // If there is no event break\n    if (typeof events == \"undefined\") return this;\n\n     // Create a new event every space\n    if (typeof events == \"string\") events = events.split(/\\s/g);\n\n    let event;\n    // Loop through the list of events\n    Object.keys(events).forEach(key => {\n        // Select the name of the event from the list\n        // Remember events can be {String | Object | Array}\n        event = events[key];\n\n        // Check If events is an Object (JSON like Object, and not an Array)\n        if (typeof events == \"object\" && !Array.isArray(events)) {\n            scope = callback; callback = event; event = key;\n        }\n\n        if (!_is.usable(scope)) {\n            let useCapture = /blur|focus|touch/.test(event);\n            scope = event === \"scroll\" ? passive || {} : { useCapture };\n        }\n\n        if (/ready/.test(event)) { console.warn(\"Cannot remove the 'ready' event.\"); } else {\n            each(elems, elem => {\n                elem.removeEventListener(event, callback, scope);\n            });\n        }\n    }, this);\n};\n\n// Generate shortforms for events eg. onclick(), onhover(), etc...\n// A closure function for the events\nlet _event = name => {\n    return (_el, ...args) => on(_el, name, ...args);\n};\n\nexport let onready = _event(\"ready\");\nexport let onload = _event(\"load\");\nexport let onblur = _event(\"blur\");\nexport let onfocus = _event(\"focus\");\nexport let onfocusin = _event(\"focusin\");\nexport let onfocusout = _event(\"focusout\");\nexport let onresize = _event(\"resize\");\nexport let onclick = _event(\"click\");\nexport let onscroll = _event(\"scroll\");\nexport let ondblclick = _event(\"dblclick\");\nexport let onmousedown = _event(\"mousedown\");\nexport let onmouseup = _event(\"mouseup\");\nexport let onmousemove = _event(\"mousemove\");\nexport let onmouseover = _event(\"mouseover\");\nexport let onmouseout = _event(\"mouseout\");\nexport let onmouseenter = _event(\"mouseenter\");\nexport let onmouseleave = _event(\"mouseleave\");\nexport let onchange = _event(\"change\");\nexport let onselect = _event(\"select\");\nexport let onsubmit = _event(\"submit\");\nexport let onkeydown = _event(\"keydown\");\nexport let onkeypress = _event(\"keypress\");\nexport let onkeyup = _event(\"keyup\");\nexport let oncontextmenu = _event(\"contextmenu\");\nexport let onorientationchange = _event(\"orientationchange\");\nexport let ontouchstart = _event(\"touchstart\");\nexport let ontouchmove = _event(\"touchmove\");\nexport let ontouchend = _event(\"touchend\");\nexport let ontouchcancel = _event(\"touchcancel\");\nexport let onhover = (_el, fnOver, fnOut) =>\n    on(_el, {\n        mouseenter: fnOver,\n        mouseleave: fnOut || fnOver\n    });\n\n// Check if an Element is in `:focus`\nexport let isFocus = _el => {\n    _el = _is.inst(_el, ele) ? _el[0] : _el;\n    return _el === document.activeElement && ( _el.type || _el.href );\n};\n\nexport default el;","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","// Imported external libraries\nimport swup from \"swup\";\nimport headPlugin from '@swup/head-plugin';\nimport scrollPlugin from \"@swup/scroll-plugin\";\n\n// Internal use components\nimport { _constrain, _map, toFixed } from \"./components/util\";\nimport { on, off, toggleClass, each, find, get, addClass, removeClass, scrollTo, scrollTop, hasClass, height, style, width, offset, attr } from \"./components/dom\";\n\n// Preload plugin dependencies\nimport delegate from 'delegate';\nimport { queryAll } from 'swup/lib/utils';\nimport { Link, getCurrentUrl, fetch } from 'swup/lib/helpers';\n\n// Swups plugin class\nclass Plugin {\n    constructor () {\n        // this is here so we can tell if plugin was created by extending this class\n        this.isSwupPlugin = true;\n    }\n\n    mount() {\n        // this is mount method rewritten by class extending\n        // and is executed when swup is enabled with plugin\n    }\n\n    unmount() {\n        // this is unmount method rewritten by class extending\n        // and is executed when swup with plugin is disabled\n    }\n\n    _beforeMount() {\n        // here for any future hidden auto init\n    }\n\n    _afterUnmount() {\n        // here for any future hidden auto-cleanup\n    }\n}\n\n// Slight tweaks to the nature of the preload plugin class\nclass customPreload extends Plugin {\n    constructor (...args) {\n        super(...args);\n        this.name = \"PreloadPlugin\";\n    }\n\n    mount() {\n        const swup = this.swup;\n\n        swup._handlers.pagePreloaded = [];\n        swup._handlers.hoverLink = [];\n\n        swup.preloadPage = this.preloadPage.bind(this);\n        swup.preloadPages = this.preloadPages.bind(this);\n\n        // register mouseover handler\n        swup.delegatedListeners.mouseover = delegate(\n            document.body,\n            swup.options.linkSelector,\n            'mouseover',\n            this.onMouseover.bind(this)\n        );\n\n        // initial preload of page form links with [data-swup-preload]\n        swup.preloadPages();\n\n        // do the same on every content replace\n        swup.on('contentReplaced', this.onContentReplaced.bind(this));\n    }\n\n    unmount() {\n        const swup = this.swup;\n\n        swup._handlers.pagePreloaded = null;\n        swup._handlers.hoverLink = null;\n\n        swup.preloadPage = null;\n        swup.preloadPages = null;\n\n        swup.delegatedListeners.mouseover.destroy();\n\n        swup.off('contentReplaced', this.onContentReplaced.bind(this));\n    }\n\n    onContentReplaced () {\n        this.swup.preloadPages();\n    };\n\n    onMouseover (event) {\n        const swup = this.swup;\n        swup.triggerEvent('hoverLink', event);\n\n        const link = new Link(event.delegateTarget);\n        if (\n            link.getAddress() !== getCurrentUrl() &&\n            !swup.cache.exists(link.getAddress()) &&\n            swup.preloadPromise == null\n        ) {\n            swup.preloadPromise = swup.preloadPage.call(this, link.getAddress());\n            swup.preloadPromise.route = link.getAddress();\n            swup.preloadPromise\n                .finally(() => {\n                    swup.preloadPromise = null;\n                });\n        }\n    }\n\n    preloadPage (pathname) {\n        const swup = this.swup;\n\n        let link = new Link(pathname);\n        return new Promise((resolve, reject) => {\n            if (link.getAddress() != getCurrentUrl() && !swup.cache.exists(link.getAddress())) {\n                fetch({ url: link.getAddress(), headers: swup.options.requestHeaders }, (response) => {\n                    if (response.status === 500) {\n                        swup.triggerEvent('serverError');\n                        reject();\n                    } else {\n                        // get json data\n                        let page = swup.getPageData(response);\n                        if (page != null) {\n                            page.url = link.getAddress();\n                            swup.cache.cacheUrl(page, swup.options.debugMode);\n                            swup.triggerEvent('pagePreloaded');\n                        } else {\n                            reject(link.getAddress());\n                            return;\n                        }\n                        resolve(swup.cache.getPage(link.getAddress()));\n                    }\n                });\n            } else {\n                resolve(swup.cache.getPage(link.getAddress()));\n            }\n        });\n    }\n\n    preloadPages () {\n        if (width(window) < 730) {\n            queryAll('[data-swup-preload]').forEach((element) => {\n                this.swup.preloadPage(element.href);\n            });\n        }\n    }\n}\n\nconst _layer = '.layer';\nconst _navbar = '.navbar';\nconst _hero = '.layer-hero';\nconst _menu = '.navbar-menu';\nconst _backUp = '.back-to-top';\nconst _skipMain = \".skip-main\";\nconst _navLink = '.navbar-link';\nconst _layer_img = \".layer-image\";\nconst _themeSwitcher = \".theme-switcher\";\nconst _actioncenter = \".layer-action-center\";\nconst _scrolldown = '.layer-hero-scroll-down';\nconst linkSelector = `a[href^=\"${window.location.origin}\"]:not([data-no-pjax]), a[href^=\"/\"]:not([data-no-pjax])`;\n\nlet onload = $load_img => function () {\n    addClass($load_img, \"core-img-show\"); // Hide the image preview\n};\n\n// On navbar menu click (this will only occur on mobile; mouseup is a tiny bit more efficient), show navbar\non(_menu, \"mouseup\", () => {\n    toggleClass(_navbar, \"navbar-show\");\n});\n\ntry {\n    //! This code comes from the theme.js file\n    // Control localStorage storage of theme\n    const { setTheme, getTheme, matchMedia } = window;\n    const html = document.querySelector(\"html\");\n    // const meta = document.querySelector(\"meta[name=theme-color]\");\n\n    // Get theme from html tag, if it has a theme or get it from localStorage\n    let themeGet = () => {\n        let themeAttr = attr(html, \"theme\");\n        if (themeAttr && themeAttr.length) {\n            return themeAttr;\n        }\n\n        return getTheme();\n    };\n\n    // Set theme in localStorage, as well as in the html tag\n    let themeSet = theme => {\n        // let primaryColor = getComputedStyle(html).getPropertyValue('--primary');\n        // meta.setAttribute(\"content\", primaryColor);\n        attr(html, \"theme\", theme);\n        setTheme(theme);\n    };\n\n    // On theme switcher button click (mouseup is a tiny bit more efficient) toggle the theme between dark and light mode\n    on(_themeSwitcher, \"mouseup\", () => {\n        themeSet(themeGet() === \"dark\" ? \"light\" : \"dark\");\n    });\n\n    matchMedia('(prefers-color-scheme: dark)').addListener(e => {\n        themeSet(e.matches ? \"dark\" : \"light\");\n    });\n} catch (e) {\n    console.warn(\"Theme switcher button broke, :(.\");\n}\n\n// On backup button click (mouseup is a tiny bit more efficient) animate back to the top\non(_backUp, \"mouseup\", () => {\n    scrollTo(\"0px\", \"1400ms\");\n});\n\n// On skip main button click animate to the main content\nlet heroHeight;\non(_skipMain, \"click\", () => {\n    scrollTo(heroHeight, \"1400ms\");\n});\n\n// The focus pt., 10px past the height of the navbar\nlet _focusPt = height(_navbar) + 10;\nlet _images = new Set(), windowWid;\nlet resize, scroll;\non(window, {\n    // On window resize make sure the scroll down hero button, is expanded and visible\n    'resize': resize = () => {\n        let srcset, src, _core_img, srcWid, load_img;\n        windowWid = width(window);\n\n        // Prevent layout-thrashing: [wilsonpage.co.uk/preventing-layout-thrashing/]\n        requestAnimationFrame(() => {\n            toggleClass(_scrolldown, \"action-btn-expand\", windowWid <= 650);\n\n            // Only on modern browsers\n            if (window.isModern) {\n                // Find the layer-images in each layer\n                each(_layer_img, $img => {\n                    load_img = get(find($img, \".load-img\"), 0);\n                    srcWid = Math.round(width($img));\n\n                    // Find the core-img in the layer-image container\n                    _core_img = get(find(load_img, \".core-img\"), 0);\n\n                    // Make sure the image that is loaded is the same size as its container\n                    srcset = attr(get(find(load_img, \".webp\"), 0), \"data-srcset\");\n\n                    // On larger screens load smaller images, for faster image load times\n                    src = srcset.replace(/w_[\\d]+/, `w_${srcWid > 550 ? srcWid - 200 : srcWid}`);\n\n                    // Safari still doesn't support WebP\n                    if (!window.WebpSupport) {\n                        src = src.replace(\".webp\", \".jpg\");\n                        console.log(\"Using JPG instead, of WEBP\");\n                    }\n\n                    // Ensure the image has loaded, then replace the small preview\n                    attr(_core_img, \"src\", src);\n                    on(_core_img, \"load\", onload(load_img));\n                });\n            }\n        });\n    },\n\n    // On scroll accomplish a set of tasks\n    'scroll': scroll = () => {\n        let _isMobile = windowWid < 650;\n        let _scrollTop = scrollTop(window);\n        let isBanner = hasClass(_layer, \"banner-mode\");\n\n        // Prevent layout-thrashing: [wilsonpage.co.uk/preventing-layout-thrashing/]\n        requestAnimationFrame(() => {\n            // If the current page uses a banner ensure the navbar is still visible\n            toggleClass(_navbar, \"navbar-focus\", isBanner || _scrollTop >= 5);\n\n            // On mobile if the window is scrolled remove main navbar menu from view\n            hasClass(_navbar, \"navbar-show\") && removeClass(_navbar, \"navbar-show\");\n\n            // Hide and show the action-center if the window has been scrolled 10px past the height of the navbar\n            toggleClass(_actioncenter, \"layer-action-center-show\", _scrollTop > _focusPt * 4);\n            toggleClass(_actioncenter, \"layer-action-center-hide\", _scrollTop <= _focusPt * 4);\n\n            // If device width is greater than 700px\n            if (!_isMobile && window.isModern) {\n                let dist, value, maxMove, transform, opacity;\n                _images.forEach(data => {\n                    // On scroll turn on parallax effect for images with the class \"effect-parallax\"\n                    if (hasClass(data.target, \"effect-parallax\")) {\n                        let { clientRect, load_img, overlay, isHero, _isBanner, header, main } = data;\n                        let { top, height } = clientRect;\n                        dist = _scrollTop - top + _focusPt * 2;\n\n                        // Some complex math, I can't explain it very well, but it works\n                        if (dist >= -_focusPt && dist <= height - _focusPt / 2) {\n                            value = _constrain(dist - _focusPt, 0, height);\n                            if (isHero && !_isMobile) style(overlay, { opacity: toFixed(_map(value, 0, height * 0.75, 0.45, 0.7), _isMobile ? 1 : 4) });\n\n                            // Ensure moblie devices can handle smooth animation, or else the parallax effect is pointless\n                            // FPS Counter test: !(fpsCounter.fps < 24 && windowWid < 500)\n                            if (!_isMobile) {\n                                style(load_img, {\n                                    transform: `translate3d(0, ${toFixed(_map(\n                                        _constrain(value - (_isBanner ? _focusPt * 2 : 20), 0, height),\n                                    0, height * 0.75, 0, height / 2), 2)}px, 0)`,\n                                });\n                            }\n\n                            maxMove = _isBanner ? 6 : 5;\n                            transform = `translate3d(0, ${toFixed(\n                                _constrain(\n                                    _map(value - (_isBanner ? _focusPt : 0), 0, height * 0.65, 0, height * maxMove / 16),\n                                0, height * maxMove / 16),\n                            _isMobile ? 1 : 2)}px, 0)`;\n                            opacity = toFixed(\n                                _constrain(\n                                    _map(_constrain(value - (height * 0.15), 0, height), 0, height * 0.40, 1, 0),\n                                0, 1),\n                            _isMobile ? 1 : 4);\n\n                            if (header) {\n                                style(header, { transform });\n                            }\n\n                            if (main) {\n                                style(main, { transform, opacity });\n                            }\n                        }\n                    }\n                });\n            }\n        });\n    }\n});\n\n// Method to run on scroll down button click\nlet goDown = () => {\n    scrollTo(heroHeight, \"800ms\");\n};\n\n// Initialize images\nlet init = () => {\n    _images.clear();\n\n    // On scroll down button click (mouseup is a tiny bit more efficient) animate scroll to the height of the hero layer\n    on(_scrolldown, \"mouseup\", goDown);\n\n    // Determine the height of the hero\n    heroHeight = height(_hero);\n\n    // Find the layer-images in each layer\n    let layer_image, isHero, overlay, load_img, clientRect, header, main, _isbanner;\n    each(_layer, $layer => {\n        layer_image = find($layer, _layer_img);\n        isHero = hasClass($layer, \"layer-hero-id\");\n\n        if (isHero) {\n            _isbanner = hasClass($layer, \"banner-mode\");\n            header = get(find($layer, \".layer-header\"), 0);\n            main = get(find($layer, \".layer-main\"), 0);\n        }\n\n        // In each layer-image find load-img image container and store all key info. important for creating a parallax effect\n        each(layer_image, $img => {\n            load_img = get(find($img, \".load-img\"), 0);\n            overlay = get(find($img, \".layer-image-overlay\"), 0);\n            clientRect = offset($img);\n\n            _images.add({\n                _isBanner: _isbanner,\n                overlay, load_img,\n                target: $img,\n                clientRect,\n                header,\n                isHero,\n                main\n            });\n        });\n    });\n};\n\n// Run once each page, this is put into SWUP, so for every new page, all the images transition without having to maually rerun all the scripts on the page\ninit();\nresize();\nscroll();\n\non(document, \"ready\", () => {\n    // SWUP library\n    try {\n        // To avoid bugs in older browser, SWUP can only run if the browser supports modern es6 features or supports webp (most browser that support webp can handle the history management SWUP does)\n        if (window.isModern || window.WebpSupport) {\n            console.log(\"%cDocument loaded, SWUP starting...\", \"color: #00c300\");\n\n            // Page transition manager SWUP for faster page loads\n            const Swup = new swup({\n                linkSelector,\n                animateHistoryBrowsing: true,\n                containers: [\"[data-container]\"],\n                plugins: [\n                    // Preload pages only on mobile\n                    new customPreload(),\n                    new headPlugin(), // Replace the contents of the head elements\n\n                    // For every new page, scroll to the top smoothly\n                    new scrollPlugin({\n                        doScrollingRightAway: false,\n                        animateScroll: false,\n                        scrollFriction: 0.3,\n                        scrollAcceleration: 0.04,\n                    })\n                ]\n            });\n\n            // Remove initial cache, the inital cache is always incomplete\n            Swup.cache.remove(window.location.pathname);\n\n            // This event runs for every page view after initial load\n            Swup.on(\"clickLink\", () => {\n                // Remove click (mouseup is a tiny bit more efficient) event from scroll down button\n                off(_scrolldown, \"mouseup\", goDown);\n\n                if (windowWid <= 700) {\n                    requestAnimationFrame(() => {\n                        removeClass(_navbar, \"navbar-show\");\n                    });\n                }\n            });\n            Swup.on(\"samePage\", () => {\n                // If on the same page reinvigorate the scroll down button click event\n                // On scroll down button click (mouseup is a tiny bit more efficient) animate scroll to the height of the hero layer\n                on(_scrolldown, \"mouseup\", goDown);\n            });\n            Swup.on('contentReplaced', () => {\n                init(); resize(); scroll();\n            });\n            Swup.on('willReplaceContent', () => {\n                let href = window.location.href;\n\n                requestAnimationFrame(() => {\n                    removeClass(_navLink, \"navbar-link-focus\");\n                    each(_navLink, _link => {\n                        href == _link.href && addClass(_link, \"navbar-link-focus\");\n                    });\n                });\n            });\n        }\n    } catch (e) {\n        // Swup isn't very good at handling errors in page transitions, so to avoid errors blocking the site from working properly; if SWUP crashes it should fallback to normal page linking\n        on(linkSelector, 'mouseup', e => {\n            window.location.href = e.currentTarget.href;\n        });\n\n        console.error(`Swup Error: ${e.message}`);\n    }\n});\n"]}